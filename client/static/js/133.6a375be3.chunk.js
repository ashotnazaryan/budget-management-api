(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[133],{8190:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>R});var t=s(2791),n=s(7689),r=s(56),a=s(2385),i=s(9276),o=s(1889),d=s(3394),c=s(8112),x=s(7931),u=s(5900),h=s(6581),C=s(1634),j=s(4631),m=s(7195),y=s(184);const v=()=>{const{t:e}=(0,d.$G)(),l=(0,n.s0)(),{invoices:s,status:t}=(0,c.CG)(x.xF);return(0,y.jsxs)(i.Z,{flexGrow:1,children:[(0,y.jsx)(u.Z,{text:e("INVOICES.PAGE_TITLE")}),(0,y.jsxs)(o.ZP,{container:!0,rowGap:2,sx:{marginTop:4},children:["loading"===t?(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(j.Z,{type:"list"})}):"failed"!==t&&"succeeded"!==t||null!==s&&void 0!==s&&s.length?(0,y.jsx)(y.Fragment,{children:s.map((e=>(0,y.jsx)(o.ZP,{item:!0,xs:12},e.id)))}):(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(m.Z,{text:e("INVOICES.EMPTY_TEXT")})}),(0,y.jsx)(C.Z,{"aria-label":"New invoice",color:"secondary",variant:"contained",startIcon:(0,y.jsx)(h.Z,{name:a.Tu.receipt}),sx:{width:{sm:"auto",xs:"100%"},fontSize:14},onClick:()=>{l("".concat(r.Z6.invoices.path,"/new"))},children:e("INVOICES.NEW_INVOICE")})]})]})};var E=s(8870),b=s(5715),I=s(8126);I.Zx.register({family:"SourceSansPro",fonts:[{src:"https://fonts.gstatic.com/s/sourcesanspro/v14/6xK3dSBYKcSV-LCoeQqfX1RYOo3aPw.ttf",fontWeight:400},{src:"https://fonts.gstatic.com/s/sourcesanspro/v14/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rAkA.ttf",fontWeight:700}]});const N=I.mM.create({page:{backgroundColor:"#E4E4E4",fontFamily:"SourceSansPro",padding:20},title:{fontSize:15,fontWeight:"bold",textAlign:"center"},heading:{paddingTop:10,display:"flex",flexDirection:"row",alignItems:"center"},label:{fontSize:12,fontWeight:"bold",marginRight:10},value:{fontSize:12},account:{fontSize:12,marginTop:30},sellerBuyer:{display:"flex",flexDirection:"row",alignItems:"flex-start",marginTop:40},seller:{flex:50},buyer:{flex:50},table:{display:"flex",flexDirection:"column",marginTop:40},headerRow:{display:"flex",flexDirection:"row",alignItems:"flex-end",backgroundColor:"#959ba1"},bodyRow:{display:"flex",flexDirection:"row",alignItems:"center",borderStyle:"solid",borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1},tableCol:{},noCol:{width:"5%"},nameCol:{width:"22%"},unitCol:{width:"5%"},quantityCol:{width:"5%"},unitNetPriceCol:{width:"12%"},netValueCol:{width:"12%"},vatRateCol:{width:"6%"},vatAmountCol:{width:"12%"},grossValueCol:{width:"12%"},currencyCol:{width:"9%"},tableCell:{fontSize:11,margin:4},total:{marginTop:20,fontSize:13,fontWeight:"bold",textAlign:"right"},vatExemption:{marginTop:20,fontSize:11}}),g=(e,l)=>(0,y.jsx)(I.xv,{style:N.tableCell,hyphenationCallback:e=>((e,l)=>{const s=Math.ceil(e.length/l),t=new Array(s);for(let n=0,r=0;n<s;++n,r+=l)t[n]=e.substring(r,r+l);return t})(e,l),children:e}),O=e=>{var l,s,t,n,r,a;let{data:i}=e;const{t:o}=(0,d.$G)();return(0,y.jsx)(I.BB,{children:(0,y.jsxs)(I.T3,{size:"A4",style:N.page,children:[(0,y.jsx)(I.G7,{children:(0,y.jsx)(I.xv,{style:N.title,children:i.title})}),(0,y.jsxs)(I.G7,{style:N.heading,children:[(0,y.jsxs)(I.xv,{style:N.label,children:[o("INVOICES.DOCUMENT.INVOICE_NO"),"."]}),(0,y.jsx)(I.xv,{style:N.value,children:(0,b.D9)()})]}),(0,y.jsxs)(I.G7,{style:N.heading,children:[(0,y.jsxs)(I.xv,{style:N.label,children:[o("INVOICES.DOCUMENT.ISSUE_DATE"),":"]}),(0,y.jsx)(I.xv,{style:N.value,children:(0,b.Ux)()})]}),(0,y.jsxs)(I.G7,{style:N.heading,children:[(0,y.jsxs)(I.xv,{style:N.label,children:[o("INVOICES.DOCUMENT.SALE_DATE"),":"]}),(0,y.jsx)(I.xv,{style:N.value,children:(0,b.Vc)()})]}),(0,y.jsxs)(I.G7,{style:N.heading,children:[(0,y.jsxs)(I.xv,{style:N.label,children:[o("INVOICES.DOCUMENT.DUE_DATE"),":"]}),(0,y.jsx)(I.xv,{style:N.value,children:(0,b.FW)(14)})]}),(0,y.jsxs)(I.G7,{style:N.heading,children:[(0,y.jsxs)(I.xv,{style:N.label,children:[o("INVOICES.DOCUMENT.PAYMENT_TYPE"),":"]}),(0,y.jsx)(I.xv,{style:N.value,children:o("INVOICES.DOCUMENT.TRANSFER")})]}),(0,y.jsxs)(I.G7,{style:N.sellerBuyer,children:[(0,y.jsxs)(I.G7,{style:N.seller,children:[(0,y.jsxs)(I.xv,{style:N.label,children:[o("INVOICES.DOCUMENT.SELLER"),":"]}),(0,y.jsxs)(I.G7,{children:[(0,y.jsx)(I.xv,{style:N.value,children:i.sellerName}),(0,y.jsx)(I.xv,{style:N.value,children:i.sellerAddress}),(0,y.jsx)(I.xv,{style:N.value,children:i.sellerLocation}),(0,y.jsxs)(I.xv,{style:N.value,children:[o("COMMON.VAT_ID")," ",i.sellerVatID]}),(0,y.jsx)(I.xv,{style:N.account,children:i.sellerAccount})]})]}),(0,y.jsxs)(I.G7,{style:N.buyer,children:[(0,y.jsxs)(I.xv,{style:N.label,children:[o("INVOICES.DOCUMENT.BUYER"),":"]}),(0,y.jsxs)(I.G7,{children:[(0,y.jsx)(I.xv,{style:N.value,children:i.buyerName}),(0,y.jsx)(I.xv,{style:N.value,children:i.buyerAddress}),(0,y.jsx)(I.xv,{style:N.value,children:i.buyerLocation}),(0,y.jsx)(I.xv,{style:N.value,children:i.buyerVatID})]})]})]}),(0,y.jsxs)(I.G7,{style:N.table,children:[(0,y.jsxs)(I.G7,{style:N.headerRow,children:[(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.noCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:o("INVOICES.DOCUMENT.TABLE.NO")})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.nameCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:o("INVOICES.DOCUMENT.TABLE.NAME")})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.unitCol},children:g(o("INVOICES.DOCUMENT.TABLE.UNIT"),3)}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.quantityCol},children:g(o("INVOICES.DOCUMENT.TABLE.QUANTITY"),3)}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.unitNetPriceCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:o("INVOICES.DOCUMENT.TABLE.UNIT_NET_PRICE")})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.netValueCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:o("INVOICES.DOCUMENT.TABLE.NET_VALUE")})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.vatRateCol},children:g(o("INVOICES.DOCUMENT.TABLE.VAT_RATE"),3)}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.vatAmountCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:o("INVOICES.DOCUMENT.TABLE.VAT_AMOUNT")})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.grossValueCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:o("INVOICES.DOCUMENT.TABLE.GROSS_VALUE")})}),(0,y.jsx)(I.G7,{style:{...N.currencyCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:o("INVOICES.DOCUMENT.TABLE.CURRENCY")})})]}),(0,y.jsxs)(I.G7,{style:N.bodyRow,children:[(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.noCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:"1"})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.nameCol},children:g("".concat(o("INVOICES.DOCUMENT.TABLE.PROGRAMMING_SERVICES")," ").concat((0,b.VY)()),20)}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.unitCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:"\u2014"})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.quantityCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:"1"})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.unitNetPriceCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:null===(l=i.amount)||void 0===l?void 0:l.net})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.netValueCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:null===(s=i.amount)||void 0===s?void 0:s.net})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.vatRateCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:i.vatIncluded?"".concat(null===(t=i.amount)||void 0===t?void 0:t.vatRate," %"):"\u2014"})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.vatAmountCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:i.vatIncluded?null===(n=i.amount)||void 0===n?void 0:n.vatAmount:"\u2014"})}),(0,y.jsx)(I.G7,{style:{...N.tableCol,...N.grossValueCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:null===(r=i.amount)||void 0===r?void 0:r.gross})}),(0,y.jsx)(I.G7,{style:{...N.currencyCol},children:(0,y.jsx)(I.xv,{style:N.tableCell,children:"PLN"})})]})]}),(0,y.jsx)(I.G7,{style:N.total,children:(0,y.jsxs)(I.xv,{children:[o("INVOICES.DOCUMENT.TABLE.TOTAL"),": ",null===(a=i.amount)||void 0===a?void 0:a.gross," PLN"]})}),!i.vatIncluded&&(0,y.jsx)(I.G7,{style:N.vatExemption,children:(0,y.jsx)(I.xv,{children:o("INVOICES.DOCUMENT.TABLE.VAT_EXEMPTION")})})]})})};var T=s(1134),A=s(5022),S=s(5523),Z=s(9955),p=s(890),f=s(5527),M=s(3967),V=s(7497),G=s(1890),D=s(9078);const P=e=>{let{data:l,onSubmit:s,onCurrencyChange:n}=e;const{t:i}=(0,d.$G)(),u=(0,b.w8)(),{palette:{info:{contrastText:h}}}=(0,M.Z)(),{defaultCurrency:{iso:j}}=(0,c.CG)(x.vi),m=r.a,v=r.AK,E=r.AK.some((e=>e.iso===j))?j:"USD",[I,N]=t.useState(E),[g,O]=t.useState(!1),P={title:"",salary:"",currencyIso:E,vatIncluded:!1,sellerName:"",sellerAddress:"",sellerLocation:"",sellerVatID:"",sellerAccount:"",buyerName:"",buyerAddress:"",buyerLocation:"",buyerVatID:""},L=(0,T.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:P}),{setValue:w,handleSubmit:U}=L;t.useEffect((()=>{Object.keys(l).forEach((e=>{w(e,l[e])}))}),[l,w]);const B=e=>{s(e)};return(0,y.jsx)(T.RV,{...L,children:(0,y.jsx)("form",{onSubmit:U(B),children:(0,y.jsxs)(o.ZP,{container:!0,gap:3,children:[(0,y.jsx)(o.ZP,{item:!0,container:!0,children:(0,y.jsxs)(f.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:6,width:"100%"},children:[(0,y.jsx)(p.Z,{sx:{marginTop:2,marginBottom:4},fontSize:17,children:i("INVOICES.MAIN_INFO")}),(0,y.jsxs)(o.ZP,{item:!0,container:!0,gap:7,children:[(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.TITLE"),name:a.W4.title,rules:{required:{value:!0,message:i(u.title.required.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.SALARY"),type:"number",name:a.W4.salary,rules:{required:{value:!0,message:i(u.salary.required.message)},pattern:{value:m,message:i(u.salary.pattern.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(G.Z,{label:i("COMMON.CURRENCY"),name:a.W4.currencyIso,value:I,onChange:e=>{const l=e.target.value;w(a.W4.currencyIso,l),N(l),n(l)},rules:{required:{value:!0,message:i(u.currencyIso.required.message)}},children:v.map((e=>{let{iso:l,name:s,nameKey:t,symbol:n}=e;return(0,y.jsx)(A.Z,{value:l,children:(0,y.jsx)(D.Z,{currency:{iso:l,symbol:n,name:s,nameKey:t}})},l)}))})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(S.Z,{control:(0,y.jsx)(Z.Z,{checked:g,onChange:(e,l)=>{w(a.W4.vatIncluded,l),O(l)}}),label:(0,y.jsx)(p.Z,{color:h,children:i("INVOICES.INCLUDE_VAT")}),labelPlacement:"start",sx:{"&.MuiFormControlLabel-root":{margin:0}}})})]})]})}),(0,y.jsx)(o.ZP,{item:!0,container:!0,children:(0,y.jsxs)(f.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:7,width:"100%"},children:[(0,y.jsx)(p.Z,{sx:{marginTop:2,marginBottom:4},fontSize:17,children:i("INVOICES.SELLER_INFO")}),(0,y.jsxs)(o.ZP,{item:!0,container:!0,gap:7,children:[(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.NAME"),name:a.W4.sellerName,rules:{required:{value:!0,message:i(u.sellerName.required.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.ADDRESS"),name:a.W4.sellerAddress,rules:{required:{value:!0,message:i(u.sellerAddress.required.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.LOCATION"),name:a.W4.sellerLocation,rules:{required:{value:!0,message:i(u.sellerLocation.required.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.VAT_ID"),name:a.W4.sellerVatID,rules:{required:{value:!0,message:i(u.sellerVatID.required.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.ACCOUNT"),name:a.W4.sellerAccount,rules:{required:{value:!0,message:i(u.sellerAccount.required.message)}}})})]})]})}),(0,y.jsx)(o.ZP,{item:!0,container:!0,children:(0,y.jsxs)(f.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:7,width:"100%"},children:[(0,y.jsx)(p.Z,{sx:{marginTop:2,marginBottom:4},fontSize:17,children:i("INVOICES.BUYER_INFO")}),(0,y.jsxs)(o.ZP,{item:!0,container:!0,gap:7,children:[(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.NAME"),name:a.W4.buyerName,rules:{required:{value:!0,message:i(u.buyerName.required.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.ADDRESS"),name:a.W4.buyerAddress,rules:{required:{value:!0,message:i(u.buyerAddress.required.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.LOCATION"),name:a.W4.buyerLocation,rules:{required:{value:!0,message:i(u.buyerLocation.required.message)}}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(V.Z,{label:i("COMMON.VAT_ID"),name:a.W4.buyerVatID,rules:{required:{value:!0,message:i(u.buyerVatID.required.message)}}})})]})]})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,children:(0,y.jsx)(C.Z,{"aria-label":"Save invoice",fullWidth:!0,type:"submit",variant:"contained",onClick:U(B),children:i("COMMON.PREVIEW")})})]})})})};var L,w=s(168);const U=(0,s(225).Z)(I.Z$)(L||(L=(0,w.Z)(["\n  min-height: calc(100vh - 30px);\n  width: 100%;\n"]))),B=e=>{let{mode:l}=e;const{t:s}=(0,d.$G)(),a=(0,n.s0)(),{rate:i,amount:h}=(0,c.CG)(x.xF),{status:C,userProfile:j}=(0,c.CG)(x.tM),m=(0,c.CG)(x.dy),v=(0,c.TL)(),[I,N]=t.useState({}),g=t.useCallback((()=>{a("".concat(r.Z6.invoices.path))}),[a]);t.useEffect((()=>{N((e=>({...e,amount:h})))}),[h]),t.useEffect((()=>{if("idle"===C&&v((0,x.Ai)()),"succeeded"===C){const e=(0,b.Aj)(m,j);N((l=>({...l,...e})))}}),[v,C,m,j]);return(0,y.jsxs)(E.Z,{flexGrow:1,children:[(0,y.jsx)(u.Z,{withBackButton:!0,text:s("INVOICES.NEW_INVOICE"),onBackButtonClick:g}),(0,y.jsxs)(o.ZP,{container:!0,columnSpacing:3,rowSpacing:5,children:[(0,y.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(P,{data:I,onSubmit:e=>{const{salary:l,vatIncluded:s}=e;v((0,x.T1)({rate:i,salary:l,vatIncluded:s})),N({...e,amount:h})},onCurrencyChange:e=>{v((0,x.pF)([e,(0,b.Vc)()]))}})}),(0,y.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,y.jsx)(U,{children:(0,y.jsx)(O,{data:I})})})]})]})},R=()=>(0,y.jsxs)(n.Z5,{children:[(0,y.jsx)(n.AW,{path:"/",element:(0,y.jsx)(v,{})}),(0,y.jsx)(n.AW,{path:"/new",element:(0,y.jsx)(B,{mode:a.df.create})}),(0,y.jsx)(n.AW,{path:"/view/:id",element:(0,y.jsx)(B,{mode:a.df.view})}),(0,y.jsx)(n.AW,{path:"/edit/:id",element:(0,y.jsx)(B,{mode:a.df.edit})}),(0,y.jsx)(n.AW,{path:"*",element:(0,y.jsx)(n.Fg,{to:r.Z6.invoices.path,replace:!0})})]})},7195:(e,l,s)=>{"use strict";s.d(l,{Z:()=>o});s(2791);var t=s(8870),n=s(3967),r=s(890),a=s(3394),i=s(184);const o=e=>{let{text:l,...s}=e;const{palette:{info:{contrastText:o}}}=(0,n.Z)(),{t:d}=(0,a.$G)(),c=l||d("COMMON.NO_DATA");return(0,i.jsx)(t.Z,{display:"flex",justifyContent:"center",...s,sx:{width:"100%",...s.sx},children:(0,i.jsx)(r.Z,{noWrap:!0,color:o,fontSize:{sm:18,xs:16},children:c})})}},2480:()=>{}}]);
//# sourceMappingURL=133.6a375be3.chunk.js.map