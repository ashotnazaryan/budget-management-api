"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[75],{75:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(2791),a=n(7689),s=n(56),i=n(2385),l=n(9276),o=n(1889),c=n(3400),d=n(3394),u=n(8112),x=n(7931),m=n(4372),h=n(5900),f=n(6581),j=n(7195),p=n(5527),Z=n(890),C=n(3967),y=n(9403),g=n(184);const v=e=>{let{data:t,onClick:n}=e;const{palette:{primary:{main:r,contrastText:a}}}=(0,C.Z)(),{name:s,icon:i,balance:l}=t;return(0,g.jsx)(p.Z,{elevation:1,sx:{paddingX:2,backgroundColor:r},children:(0,g.jsxs)(o.ZP,{container:!0,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,columnSpacing:2,sx:{borderRadius:1,minHeight:40,cursor:"pointer"},onClick:()=>{n&&n(t)},children:[(0,g.jsx)(o.ZP,{item:!0,xs:1,display:"flex",children:i&&(0,g.jsx)(f.Z,{name:i,sx:{fontSize:{sm:22,xs:18},color:a}})}),(0,g.jsx)(o.ZP,{item:!0,xs:7,display:"flex",children:(0,g.jsx)(Z.Z,{noWrap:!0,color:a,sx:{fontSize:{sm:15,xs:13}},children:s})}),(0,g.jsx)(o.ZP,{item:!0,xs:4,display:"flex",justifyContent:"flex-end",children:(0,g.jsx)(y.Z,{balance:l,positiveColor:a,fontSize:{sm:15,xs:13}})})]})})};var b=n(1634),T=n(8870);const S=e=>{let{balance:t,...n}=e;const{palette:{info:{contrastText:r}}}=(0,C.Z)(),l=(0,a.s0)(),{t:o}=(0,d.$G)();return(0,g.jsxs)(T.Z,{sx:{...n.sx,display:"flex",flexDirection:"column",paddingBottom:3,borderBottom:e=>"1px solid ".concat(e.palette.secondary.main)},children:[(0,g.jsxs)(T.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:3},children:[(0,g.jsxs)(Z.Z,{noWrap:!0,color:r,fontSize:18,sx:{marginRight:1},children:[o("COMMON.BALANCE"),":"]}),(0,g.jsx)(y.Z,{balance:t,fontSize:18})]}),(0,g.jsxs)(T.Z,{sx:{display:"flex",flexDirection:{sm:"row",xs:"column"},alignItems:"center",justifyContent:"space-between",gap:3},children:[(0,g.jsx)(b.Z,{"aria-label":"New transfer",color:"secondary",variant:"contained",startIcon:(0,g.jsx)(f.Z,{name:i.Tu.currencyExchange}),sx:{width:{sm:"auto",xs:"100%"},fontSize:14},onClick:()=>{l("".concat(s.Z6.transfers.path,"/new"))},children:o("TRANSFERS.NEW_TRANSFER")}),(0,g.jsx)(b.Z,{"aria-label":"Transfer history",color:"secondary",startIcon:(0,g.jsx)(f.Z,{name:i.Tu.history}),sx:{width:{sm:"auto",xs:"100%"},fontSize:14},onClick:()=>{l("".concat(s.Z6.transfers.path))},children:o("TRANSFERS.TRANSFER_HISTORY")})]})]})},B=()=>{const e=(0,u.TL)(),{accounts:t,status:n}=(0,u.CG)(x.bk),{balance:p,balanceStatus:Z}=(0,u.CG)(x.Tc),C=(0,a.s0)(),{t:y}=(0,d.$G)(),b=e=>{let{id:t,name:n}=e;C("".concat(s.Z6.accounts.path,"/view/").concat(n),{state:{id:t}})};r.useEffect((()=>{"idle"===n&&e((0,x.T8)())}),[e,n]),r.useEffect((()=>{"idle"===Z&&e((0,x.sb)())}),[e,Z]);return(0,g.jsxs)(l.Z,{flexGrow:1,children:[(0,g.jsx)(S,{balance:p,sx:{marginTop:2,marginBottom:4}}),(0,g.jsx)(h.Z,{text:y("ACCOUNTS.PAGE_TITLE"),sx:{marginBottom:4}}),(0,g.jsxs)(o.ZP,{container:!0,rowGap:2,sx:{marginTop:4},children:["loading"===n?(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(m.Z,{type:"list"})}):"failed"!==n&&"succeeded"!==n||null!==t&&void 0!==t&&t.length?(0,g.jsx)(g.Fragment,{children:t.map((e=>{return(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(v,{data:(t=e,{...t,name:t.nameKey?y(t.nameKey):t.name}),onClick:b})},e.id);var t}))}):(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{text:y("ACCOUNTS.EMPTY_TEXT")})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,g.jsx)(c.Z,{color:"primary",onClick:()=>{C("".concat(s.Z6.accounts.path,"/new"))},sx:{alignSelf:"flex-end"},children:(0,g.jsx)(f.Z,{name:i.Tu.plus,sx:{fontSize:40}})})})]})]})};var w=n(1134),E=n(5022),O=n(5715),P=n(7497),N=n(7034),G=n(2581),A=n(1890),I=n(9525),k=n(8556);const M=e=>{let{mode:t}=e;const n=s.$V,l=s.Mf,c=s.SS,f=(0,a.s0)(),{state:p}=(0,a.TH)(),C=(0,u.TL)(),{getStatus:y,createEditStatus:v,deleteStatus:S}=(0,u.CG)(x.bk),B=(0,u.CG)(x.XD),M=(0,u.CG)(x.rY),{defaultCurrency:{iso:q}}=(0,u.CG)(x.vi),R=(0,O.C3)(),{t:D}=(0,d.$G)(),[_,W]=r.useState(!1),[z,L]=r.useState(!1),[K,F]=r.useState(!1),[U,V]=r.useState(!1),Y="loading"===v,$="loading"===S,H=null===p||void 0===p?void 0:p.id,X=null!==M&&void 0!==M&&M.nameKey?D(M.nameKey):(null===M||void 0===M?void 0:M.name)||"",Q=t===i.df.create,J=t===i.df.edit,ee=t===i.df.view,te=(0,O.pz)(t,D,y,"ACCOUNTS","NEW_ACCOUNT","EMPTY_TITLE",M),ne={balance:0,name:"",currencyIso:q},re=(0,w.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:ne}),{setValue:ae,handleSubmit:se,watch:ie,reset:le}=re,oe=ie(i.qt.currencyIso),ce=e=>{let{id:t}=e;ee||ae(i.qt.icon,t,{shouldValidate:!0})},de=e=>{const t=e.target.value;ae(i.qt.currencyIso,t,{shouldValidate:!0})},ue=e=>{const t={...e,balance:Number(e.balance)};C(J?(0,x.zx)([H,t]):(0,x.o1)(t)),W(!0)},xe=r.useCallback((()=>{M&&(ae(i.qt.name,M.nameKey?D(M.nameKey):M.name),ae(i.qt.icon,M.icon),ae(i.qt.balance,(0,O.Co)(M.balance)),ae(i.qt.currencyIso,M.currencyIso))}),[M,ae,D]),me=r.useCallback((()=>{C((0,x.cj)())}),[C]),he=r.useCallback((()=>{f("".concat(s.Z6.accounts.path)),me()}),[f,me]);r.useEffect((()=>{"succeeded"===v&&_&&(he(),F(!1)),"failed"===v&&_&&F(!0)}),[he,v,_]),r.useEffect((()=>{"succeeded"===S&&z&&he(),"failed"===S&&z&&(F(!0),V(!1))}),[he,S,z]),r.useEffect((()=>{H||C((0,x.P4)())}),[H,C]),r.useEffect((()=>{H&&"idle"===y&&(J||ee)&&!z&&C((0,x.D0)(H))}),[H,J,ee,y,C,z]),r.useEffect((()=>{xe()}),[xe]),r.useEffect((()=>()=>{me()}),[me]);return(0,g.jsxs)(T.Z,{component:"form",display:"flex",flexDirection:"column",flexGrow:1,onSubmit:se(ue),children:[(0,g.jsx)(h.Z,{withBackButton:!0,withEditButton:ee&&!!M,withDeleteButton:J&&!!M,withCancelButton:!ee&&!!M,text:te,onBackButtonClick:he,onEditButtonClick:()=>{J||f("".concat(s.Z6.accounts.path,"/edit/").concat(X),{state:{id:H}})},onDeleteButtonClick:()=>{V(!0)},onCancelButtonClick:()=>{Q?le(ne):xe(),J?f("".concat(s.Z6.accounts.path,"/view/").concat(X),{state:{id:H}}):f(s.Z6.accounts.path)}}),(0,g.jsx)(T.Z,{flexGrow:1,children:"loading"===y?(0,g.jsx)(m.Z,{type:"form"}):Q||M&&H||"failed"!==y?(0,g.jsx)(w.RV,{...re,children:(0,g.jsxs)(o.ZP,{container:!0,rowGap:7,children:[(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(P.Z,{InputProps:{readOnly:ee},label:D("COMMON.NAME"),name:i.qt.name,rules:{required:{value:!0,message:D(R.name.required.message)}}})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(P.Z,{InputProps:{readOnly:ee},label:D("COMMON.BALANCE"),type:"number",name:i.qt.balance,rules:{required:{value:!0,message:D(R.balance.required.message)},pattern:{value:n,message:D(R.balance.pattern.message)}}})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(A.Z,{inputProps:{readOnly:ee},label:D("COMMON.CURRENCY"),name:i.qt.currencyIso,value:oe,onChange:de,rules:{required:{value:!0,message:D(R.currencyIso.required.message)}},children:l.map((e=>{let{iso:t,name:n,nameKey:r,symbol:a}=e;return(0,g.jsxs)(E.Z,{value:t,children:[a," ",r?D(r):n]},t)}))})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(k.Z,{name:i.qt.icon,label:D("COMMON.ICON"),rules:{required:{value:!0,message:D(R.icon.required.message)}},render:e=>{let{field:t}=e;return(0,g.jsx)(o.ZP,{container:!0,...t,columnGap:1,rowGap:3,sx:{marginTop:2},children:c.map((e=>{let{name:n}=e;return(0,g.jsx)(o.ZP,{item:!0,children:(0,g.jsx)(G.Z,{selected:t.value,id:n,icon:n,size:50,readonly:ee,onClick:ce})},n)}))})}})})]})}):(0,g.jsx)(j.Z,{text:D("ACCOUNTS.EMPTY_TEXT_RENDER_CONTENT")})}),!ee&&(0,g.jsx)(o.ZP,{container:!0,display:"flex",justifyContent:"flex-end",rowGap:2,columnGap:2,sx:{marginTop:4,marginBottom:4},children:(0,g.jsx)(o.ZP,{item:!0,sm:"auto",xs:12,children:(0,g.jsx)(b.Z,{"aria-label":"Save account",fullWidth:!0,type:"submit",variant:"contained",loading:Y,onClick:se(ue),children:D("COMMON.SAVE")})})}),(0,g.jsx)(N.Z,{type:"error",open:K,text:null!==B&&void 0!==B&&B.messageKey?D(B.messageKey):(null===B||void 0===B?void 0:B.message)||"",onClose:()=>{F(!1),L(!1)}}),(0,g.jsx)(I.Z,{fullWidth:!0,maxWidth:"xs",title:D("ACCOUNTS.DELETE_DIALOG_TITLE"),actionButtonText:D("COMMON.YES"),open:U,loading:$,onClose:()=>{V(!1)},onAction:()=>{C((0,x.tm)(H)),L(!0)},children:(0,g.jsx)(Z.Z,{variant:"subtitle1",children:D("ACCOUNTS.DELETE_DIALOG_CONFIRM")})})]})},q=()=>(0,g.jsxs)(a.Z5,{children:[(0,g.jsx)(a.AW,{path:"/",element:(0,g.jsx)(B,{})}),(0,g.jsx)(a.AW,{path:"/new",element:(0,g.jsx)(M,{mode:i.df.create})}),(0,g.jsx)(a.AW,{path:"/view/:id",element:(0,g.jsx)(M,{mode:i.df.view})}),(0,g.jsx)(a.AW,{path:"/edit/:id",element:(0,g.jsx)(M,{mode:i.df.edit})}),(0,g.jsx)(a.AW,{path:"*",element:(0,g.jsx)(a.Fg,{to:s.Z6.accounts.path,replace:!0})})]})},7195:(e,t,n)=>{n.d(t,{Z:()=>o});n(2791);var r=n(8870),a=n(3967),s=n(890),i=n(3394),l=n(184);const o=e=>{let{text:t,...n}=e;const{palette:{info:{contrastText:o}}}=(0,a.Z)(),{t:c}=(0,i.$G)(),d=t||c("COMMON.NO_DATA");return(0,l.jsx)(r.Z,{display:"flex",justifyContent:"center",...n,sx:{width:"100%",...n.sx},children:(0,l.jsx)(s.Z,{noWrap:!0,color:o,fontSize:{sm:18,xs:16},children:d})})}},8556:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var r=n(1134),a=n(7071),s=n(4925),i=n(184);const l=e=>{let{name:t,label:n,rules:l={},render:o}=e;const{control:c,formState:{errors:d}}=(0,r.Gc)();return(0,i.jsx)(r.Qr,{control:c,name:t,rules:l,render:e=>{var r;let{field:l,fieldState:c}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{sx:{marginBottom:2},children:n}),o({field:l,fieldState:c}),d[t]&&(0,i.jsx)(a.Z,{error:!0,children:null===(r=c.error)||void 0===r?void 0:r.message})]})}})}},7497:(e,t,n)=>{n.d(t,{Z:()=>m});n(2791);var r,a=n(1134),s=n(7071),i=n(8870),l=n(3967),o=n(168),c=n(225),d=n(3006);const u=(0,c.Z)(d.Z)(r||(r=(0,o.Z)(["\n  &.MuiInputBase-input {\n    border-color: ",";\n    color: ",";\n  },\n  &.MuiOutlinedInput-root {\n    &.Mui-error {\n      & .MuiOutlinedInput-notchedOutline: {\n        border-color: ",",\n      }\n    }\n    border-color: ",";\n    color: ",";\n  }\n"])),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.error.main),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.error.main));var x=n(184);const m=e=>{let{name:t,rules:n={},...r}=e;const o=(0,l.Z)(),{control:c,formState:{errors:d}}=(0,a.Gc)();return(0,x.jsx)(a.Qr,{control:c,name:t,rules:n,render:e=>{let{field:n,fieldState:{error:a}}=e;return(0,x.jsxs)(i.Z,{position:"relative",children:[(0,x.jsx)(u,{fullWidth:!0,...n,...r,theme:o,error:!!d[t]}),d[t]&&(0,x.jsx)(s.Z,{sx:{position:"absolute"},error:!0,children:null===a||void 0===a?void 0:a.message})]})}})}},1890:(e,t,n)=>{n.d(t,{Z:()=>c});n(2791);var r=n(1134),a=n(7198),s=n(7071),i=n(8870),l=n(4925),o=n(184);const c=e=>{let{name:t,label:n,rules:c={},children:d,...u}=e;const{control:x,formState:{errors:m}}=(0,r.Gc)();return(0,o.jsx)(r.Qr,{control:x,name:t,rules:c,render:e=>{let{field:r,fieldState:{error:c}}=e;return(0,o.jsxs)(i.Z,{position:"relative",children:[(0,o.jsx)(l.Z,{children:n}),(0,o.jsx)(a.Z,{fullWidth:!0,variant:"outlined",error:!!m[t],...r,...u,children:d}),m[t]&&(0,o.jsx)(s.Z,{sx:{position:"absolute"},error:!0,children:null===c||void 0===c?void 0:c.message})]})}})}},2581:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var r=n(8870),a=n(3967),s=n(6581),i=n(184);const l=e=>{let{id:t,selected:n,icon:l,size:o=64,disabled:c,readonly:d,onClick:u}=e;const{palette:{primary:{main:x,contrastText:m},action:h}}=(0,a.Z)();return(0,i.jsx)(r.Z,{display:"flex",flexDirection:"column",alignItems:"center",width:o+20,children:(0,i.jsx)(r.Z,{onClick:(e=>()=>{d||u&&u({id:e})})(t),sx:{backgroundColor:c?h.disabled:n===t?x:"transparent",border:c?"none":"1px solid ".concat(x),color:n===t?m:x,height:o,width:o,borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:c||d?"default":"pointer"},children:(0,i.jsx)(s.Z,{name:l})})})}},4372:(e,t,n)=>{n.d(t,{Z:()=>i});n(2791);var r=n(7047),a=n(1889),s=n(184);const i=e=>{let{type:t,...n}=e;const i="form"===t,l=()=>{switch(t){case"list":default:return{firstBar:40,secondBar:40,thirdBar:40};case"form":return{firstBar:56,secondBar:56,thirdBar:56};case"summary":return{firstBar:30,secondBar:60,thirdBar:120};case"circular":return{firstBar:64,secondBar:64,thirdBar:64}}};return"circular"===t?(0,s.jsxs)(a.ZP,{container:!0,columnGap:4,rowGap:4,children:[(0,s.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,s.jsx)(r.Z,{...n,variant:"circular",height:l().firstBar,width:l().firstBar})}),(0,s.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,s.jsx)(r.Z,{...n,variant:"circular",height:l().secondBar,width:l().secondBar})}),(0,s.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,s.jsx)(r.Z,{...n,variant:"circular",height:l().thirdBar,width:l().firstBar})})]}):(0,s.jsxs)(a.ZP,{container:!0,justifyContent:"center",rowGap:i?5:2,children:[(0,s.jsx)(a.ZP,{item:!0,xs:12,children:(0,s.jsx)(r.Z,{...n,variant:"rounded",height:l().firstBar})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,children:(0,s.jsx)(r.Z,{...n,variant:"rounded",animation:"wave",height:l().secondBar})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,children:(0,s.jsx)(r.Z,{...n,variant:"rounded",height:l().thirdBar})})]})}},7034:(e,t,n)=>{n.d(t,{Z:()=>i});n(2791);var r=n(9658),a=n(3543),s=n(184);const i=e=>{let{open:t=!1,text:n,type:i,onClose:l,...o}=e;return(0,s.jsx)(a.Z,{open:t,autoHideDuration:5e3,onClose:()=>{l()},...o,children:(0,s.jsx)(r.Z,{severity:i,children:n})})}}}]);
//# sourceMappingURL=75.3cf84fed.chunk.js.map