"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[387],{2387:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(2791),i=n(7689),o=n(5980),a=n(2385),c=n(1413),s=n(9439),l=n(1134),u=n(6606),d=n(4102),f=n(8870),x=n(1889),Z=n(890),m=n(5022),h=n(8112),j=n(7931),p=n(7233),C=n(5900),v=n(1634),A=n(1890),B=n(7497),g=n(645),T=n(7034),k=n(9525),E=n(4372),y=n(7195),S=n(7559),w=n(184),b=function(e){var t=e.mode,n=o.a,b=(0,i.s0)(),N=(0,h.TL)(),O=(0,h.CG)(j.Nu),P=O.status,R=O.currentStatus,G=O.deleteStatus,D=(0,h.CG)(j.xm),W=(0,h.CG)(j.rD),M=(0,h.CG)(j.bk).accounts,_=(0,h.CG)(j.en),F=(0,p._N)(),I=(0,d.$G)().t,V=r.useState(!1),z=(0,s.Z)(V,2),L=z[0],q=z[1],U=r.useState(!1),K=(0,s.Z)(U,2),H=K[0],Q=K[1],X=r.useState(!1),Y=(0,s.Z)(X,2),$=Y[0],J=Y[1],ee=r.useState(!1),te=(0,s.Z)(ee,2),ne=te[0],re=te[1],ie="loading"===P,oe="loading"===G,ae=t===a.df.create,ce=t===a.df.edit,se=t===a.df.view,le=(0,i.UO)().id,ue={fromAccount:{},toAccount:{},amount:"",createdAt:ae?(0,u.Z)().format():void 0},de=(0,l.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:ue}),fe=de.handleSubmit,xe=de.setValue,Ze=de.watch,me=de.reset,he=Ze(a.Cd.fromAccount),je=Ze(a.Cd.toAccount),pe=Ze(a.Cd.createdAt),Ce=function(e){var t=M.find((function(t){return t.id===e.target.value}));xe(a.Cd.fromAccount,t,{shouldValidate:!0})},ve=function(e){var t=M.find((function(t){return t.id===e.target.value}));xe(a.Cd.toAccount,t,{shouldValidate:!0})},Ae=function(e){xe(a.Cd.createdAt,e.format(),{shouldValidate:!0})},Be=function(e){var t=(0,c.Z)((0,c.Z)({},e),{},{amount:Number(e.amount),fromAccount:e.fromAccount.id,toAccount:e.toAccount.id,createdAt:(0,u.Z)(e.createdAt).toDate()});N(ce?(0,j.aT)([le,t]):(0,j.LH)(t)),q(!0)},ge=r.useCallback((function(){W&&(xe(a.Cd.fromAccount,W.fromAccount),xe(a.Cd.toAccount,W.toAccount),xe(a.Cd.amount,(0,p.Co)(W.amount)),xe(a.Cd.createdAt,W.createdAt))}),[W,xe]),Te=r.useCallback((function(){N((0,j.WH)())}),[N]),ke=r.useCallback((function(){b(ae?o.Z6.accounts.path:o.Z6.transfers.path),Te()}),[b,ae,Te]);r.useEffect((function(){"idle"===_&&N((0,j.T8)())}),[N,_]),r.useEffect((function(){"succeeded"===P&&L&&(N((0,j.T8)()),ke(),Q(!1)),"failed"===P&&L&&Q(!0)}),[N,ke,P,L]),r.useEffect((function(){"succeeded"===G&&$&&ke(),"failed"===G&&$&&(Q(!0),re(!1))}),[ke,G,$]),r.useEffect((function(){!le||"idle"!==R||ae||$||N((0,j.x9)(le))}),[le,ae,R,N,$]),r.useEffect((function(){ge()}),[ge]),r.useEffect((function(){return function(){Te()}}),[Te]);return(0,w.jsxs)(f.Z,{component:"form",display:"flex",flexDirection:"column",flexGrow:1,onSubmit:fe(Be),children:[(0,w.jsx)(C.Z,{withBackButton:!0,withEditButton:se,withDeleteButton:ce,withCancelButton:!se,text:I(ce?"TRANSFERS.EDIT_TRANSFER":se?"TRANSFERS.VIEW_TRANSFER":"TRANSFERS.NEW_TRANSFER"),onBackButtonClick:ke,onEditButtonClick:function(){ce||b("".concat(o.Z6.transfers.path,"/edit/").concat(le))},onDeleteButtonClick:function(){re(!0)},onCancelButtonClick:function(){ae?me(ue):ge(),b(ae?o.Z6.accounts.path:"".concat(o.Z6.transfers.path,"/view/").concat(le))}}),(0,w.jsx)(f.Z,{flexGrow:1,children:"loading"===R?(0,w.jsx)(E.Z,{type:"form"}):ae||W&&le?(0,w.jsx)(l.RV,(0,c.Z)((0,c.Z)({},de),{},{children:(0,w.jsxs)(x.ZP,{container:!0,rowGap:6,columnSpacing:2,children:[(0,w.jsx)(x.ZP,{item:!0,sm:6,xs:12,children:(0,w.jsx)(A.Z,{disabled:!ae,label:I("ACCOUNTS.FROM_ACCOUNT"),name:a.Cd.fromAccount,value:he.id||"",onChange:Ce,rules:{required:{value:!0,message:I(F.fromAccount.required.message)}},renderValue:function(e){return(0,w.jsx)(Z.Z,{children:(0,p.ut)(e,M,I)})},children:M.map((function(e){return(0,w.jsx)(m.Z,{value:e.id,sx:{display:"flex",justifyContent:"space-between"},children:(0,w.jsx)(S.Z,{data:e})},e.id)}))})}),(0,w.jsx)(x.ZP,{item:!0,sm:6,xs:12,children:(0,w.jsx)(A.Z,{disabled:!ae,label:I("ACCOUNTS.TO_ACCOUNT"),name:a.Cd.toAccount,value:je.id||"",onChange:ve,rules:{required:{value:!0,message:I(F.toAccount.required.message)}},renderValue:function(e){return(0,w.jsx)(Z.Z,{children:(0,p.ut)(e,M,I)})},children:M.map((function(e){return(0,w.jsx)(m.Z,{value:e.id,sx:{display:"flex",justifyContent:"space-between"},children:(0,w.jsx)(S.Z,{data:e})},e.id)}))})}),(0,w.jsx)(x.ZP,{item:!0,xs:12,children:(0,w.jsx)(B.Z,{InputProps:{readOnly:se},label:I("COMMON.AMOUNT"),type:"number",name:a.Cd.amount,rules:{required:{value:!0,message:I(F.amount.required.message)},pattern:{value:n,message:I(F.amount.pattern.message)}}})}),(0,w.jsx)(x.ZP,{item:!0,xs:12,children:(0,w.jsx)(g.Z,{readOnly:se,name:a.Cd.createdAt,label:I("COMMON.DATE"),value:(0,u.Z)(pe).isValid()?(0,u.Z)(pe):null,maxDate:(0,u.Z)(),rules:{required:!0,validate:{maxDate:function(e){return Promise.resolve((0,u.Z)(e)<=(0,u.Z)()||I(F.createdAt.max.message))}}},onChange:Ae,sx:{width:"100%"}})})]})})):(0,w.jsx)(y.Z,{text:I("TRANSFERS.EMPTY_TEXT_RENDER_CONTENT")})}),!se&&(0,w.jsx)(x.ZP,{container:!0,display:"flex",justifyContent:"flex-end",rowGap:2,columnGap:2,sx:{marginTop:4},children:(0,w.jsx)(x.ZP,{item:!0,sm:"auto",xs:12,children:(0,w.jsx)(v.Z,{"aria-label":"Save transfer",fullWidth:!0,type:"submit",variant:"contained",loading:ie,onClick:fe(Be),children:I("COMMON.SAVE")})})}),(0,w.jsx)(T.Z,{type:"error",open:H,text:null!==D&&void 0!==D&&D.messageKey?I(D.messageKey):(null===D||void 0===D?void 0:D.message)||"",onClose:function(){Q(!1),J(!1)}}),(0,w.jsx)(k.Z,{fullWidth:!0,maxWidth:"xs",title:I("TRANSFERS.DELETE_DIALOG_TITLE"),actionButtonText:I("COMMON.YES"),open:ne,loading:oe,onClose:function(){re(!1)},onAction:function(){N((0,j.Wr)(le)),J(!0)},children:(0,w.jsx)(Z.Z,{variant:"subtitle1",children:I("TRANSFERS.DELETE_DIALOG_CONFIRM")})})]})},N=n(9276),O=n(5527),P=n(3967),R=function(e){var t=e.data,n=e.onClick,r=(0,P.Z)().palette.primary,i=r.main,a=r.contrastText,c=t.fromAccount,s=t.toAccount,l=t.createdAt,d=t.amount,f=(0,u.Z)(l).format(o.zT);return(0,w.jsx)(O.Z,{elevation:1,sx:{paddingX:2,backgroundColor:i},onClick:function(){n&&n(t)},children:(0,w.jsxs)(x.ZP,{container:!0,columnSpacing:2,alignItems:"center",sx:{minHeight:40,cursor:"pointer"},children:[(0,w.jsx)(x.ZP,{item:!0,xs:3,children:(0,w.jsx)(Z.Z,{noWrap:!0,color:a,children:c.name})}),(0,w.jsx)(x.ZP,{item:!0,xs:3,children:(0,w.jsx)(Z.Z,{noWrap:!0,color:a,children:s.name})}),(0,w.jsx)(x.ZP,{item:!0,xs:3,children:(0,w.jsx)(Z.Z,{noWrap:!0,color:a,children:d})}),(0,w.jsx)(x.ZP,{item:!0,xs:3,display:"flex",justifyContent:"flex-end",children:(0,w.jsx)(Z.Z,{noWrap:!0,color:a,children:f})})]})})},G=function(){var e=(0,h.TL)(),t=(0,h.CG)(j.Nu),n=t.transfers,a=t.status,s=(0,i.s0)(),l=(0,d.$G)().t,u=function(e){var t=e.id;s("".concat(o.Z6.transfers.path,"/view/").concat(t),{state:{id:t}})};r.useEffect((function(){"idle"!==a&&"failed"!==a||e((0,j.qE)())}),[e,a]);return(0,w.jsxs)(N.Z,{flexGrow:1,children:[(0,w.jsx)(C.Z,{withBackButton:!0,text:l("TRANSFERS.PAGE_TITLE"),onBackButtonClick:function(){s("".concat(o.Z6.accounts.path))}}),"loading"===a||"succeeded"!==a?(0,w.jsx)(E.Z,{type:"list"}):null!==n&&void 0!==n&&n.length?(0,w.jsx)(x.ZP,{container:!0,rowGap:2,children:n.map((function(e){return(0,w.jsx)(x.ZP,{item:!0,xs:12,children:(0,w.jsx)(R,{data:(t=e,(0,c.Z)((0,c.Z)({},t),{},{fromAccount:(0,c.Z)((0,c.Z)({},t.fromAccount),{},{name:t.fromAccount.nameKey?l(t.fromAccount.nameKey):t.fromAccount.name})})),onClick:u})},e.id);var t}))}):(0,w.jsx)(y.Z,{text:l("TRANSFERS.EMPTY_TEXT")})]})},D=function(){return(0,w.jsxs)(i.Z5,{children:[(0,w.jsx)(i.AW,{path:"/",element:(0,w.jsx)(G,{})}),(0,w.jsx)(i.AW,{path:"/new",element:(0,w.jsx)(b,{mode:a.df.create})}),(0,w.jsx)(i.AW,{path:"/view/:id",element:(0,w.jsx)(b,{mode:a.df.view})}),(0,w.jsx)(i.AW,{path:"/edit/:id",element:(0,w.jsx)(b,{mode:a.df.edit})}),(0,w.jsx)(i.AW,{path:"*",element:(0,w.jsx)(i.Fg,{to:o.Z6.transfers.path,replace:!0})})]})}},7559:function(e,t,n){n(2791);var r=n(890),i=n(4102),o=n(9403),a=n(184);t.Z=function(e){var t=e.data,n=t.name,c=t.nameKey,s=t.balance,l=(0,i.$G)().t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{children:c?l(c):n}),(0,a.jsx)(o.Z,{balance:s})]})}},7195:function(e,t,n){n(2791);var r=n(8870),i=n(3967),o=n(890),a=n(184);t.Z=function(e){var t=e.text,n=void 0===t?"No data is available":t,c=(0,i.Z)().palette.info.contrastText;return(0,a.jsx)(r.Z,{display:"flex",justifyContent:"center",children:(0,a.jsx)(o.Z,{noWrap:!0,color:c,fontSize:{sm:18,xs:16},children:n})})}},645:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(1134)),a=n(8870),c=n(4925),s=n(7071),l=n(9617),u=n(1652),d=n(7792),f=n(5866),x=n(184),Z=["name","label","rules"];t.Z=function(e){var t=e.name,n=e.label,m=e.rules,h=void 0===m?{}:m,j=(0,i.Z)(e,Z),p=(0,o.Gc)(),C=p.control,v=p.formState.errors;return(0,x.jsx)(u._,{dateAdapter:d.y,children:(0,x.jsx)(f.C,{sx:{paddingTop:2,overflow:"initial"},components:["DatePicker"],children:(0,x.jsx)(o.Qr,{control:C,name:t,rules:h,render:function(e){var i=e.field,o=e.fieldState.error;return(0,x.jsxs)(a.Z,{position:"relative",children:[(0,x.jsx)(c.Z,{children:n}),(0,x.jsx)(l.M,(0,r.Z)((0,r.Z)({},i),j)),v[t]&&(0,x.jsx)(s.Z,{sx:{position:"absolute"},error:!0,children:null===o||void 0===o?void 0:o.message})]})}})})})}},7497:function(e,t,n){n.d(t,{Z:function(){return h}});var r,i=n(1413),o=n(5987),a=(n(2791),n(1134)),c=n(7071),s=n(8870),l=n(3967),u=n(168),d=n(225),f=n(3006),x=(0,d.Z)(f.Z)(r||(r=(0,u.Z)(["\n  &.MuiInputBase-input {\n    border-color: ",";\n    color: ",";\n  },\n  &.MuiOutlinedInput-root {\n    &.Mui-error {\n      & .MuiOutlinedInput-notchedOutline: {\n        border-color: ",",\n      }\n    }\n    border-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.error.main}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.error.main})),Z=n(184),m=["name","rules"],h=function(e){var t=e.name,n=e.rules,r=void 0===n?{}:n,u=(0,o.Z)(e,m),d=(0,l.Z)(),f=(0,a.Gc)(),h=f.control,j=f.formState.errors;return(0,Z.jsx)(a.Qr,{control:h,name:t,rules:r,render:function(e){var n=e.field,r=e.fieldState.error;return(0,Z.jsxs)(s.Z,{position:"relative",children:[(0,Z.jsx)(x,(0,i.Z)((0,i.Z)((0,i.Z)({fullWidth:!0},n),u),{},{theme:d,error:!!j[t]})),j[t]&&(0,Z.jsx)(c.Z,{sx:{position:"absolute"},error:!0,children:null===r||void 0===r?void 0:r.message})]})}})}},1890:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(1134)),a=n(7198),c=n(7071),s=n(8870),l=n(4925),u=n(184),d=["name","label","rules","children"];t.Z=function(e){var t=e.name,n=e.label,f=e.rules,x=void 0===f?{}:f,Z=e.children,m=(0,i.Z)(e,d),h=(0,o.Gc)(),j=h.control,p=h.formState.errors;return(0,u.jsx)(o.Qr,{control:j,name:t,rules:x,render:function(e){var i=e.field,o=e.fieldState.error;return(0,u.jsxs)(s.Z,{position:"relative",children:[(0,u.jsx)(l.Z,{children:n}),(0,u.jsx)(a.Z,(0,r.Z)((0,r.Z)((0,r.Z)({fullWidth:!0,variant:"outlined",error:!!p[t]},i),m),{},{children:Z})),p[t]&&(0,u.jsx)(c.Z,{sx:{position:"absolute"},error:!0,children:null===o||void 0===o?void 0:o.message})]})}})}},6581:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(5980)),a=n(2385),c=n(184),s=["name","fontSize"];t.Z=function(e){var t=e.name,n=void 0===t?a.Tu.default:t,l=e.fontSize,u=void 0===l?"large":l,d=(0,i.Z)(e,s),f=o.QI[n];return(0,c.jsx)(f,(0,r.Z)((0,r.Z)({},d),{},{fontSize:u,sx:(0,r.Z)({},d.sx)}))}},5900:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(1413),i=n(5987),o=(n(2791),n(890)),a=n(8870),c=n(3967),s=n(6459),l=n(3400),u=n(2385),d=n(6581),f=n(184),x=function(e){var t=Object.assign({},((0,s.Z)(e),e));return(0,f.jsx)(l.Z,(0,r.Z)((0,r.Z)({},t),{},{color:"primary",size:"small",sx:(0,r.Z)({},t.sx),onClick:t.onClick,children:(0,f.jsx)(d.Z,{name:u.Tu.arrowBack})}))},Z=function(e){var t=Object.assign({},((0,s.Z)(e),e));return(0,f.jsx)(l.Z,(0,r.Z)((0,r.Z)({},t),{},{color:"primary",size:"small",sx:(0,r.Z)({},t.sx),onClick:t.onClick,children:(0,f.jsx)(d.Z,{name:u.Tu.edit})}))},m=function(e){var t=Object.assign({},((0,s.Z)(e),e));return(0,f.jsx)(l.Z,(0,r.Z)((0,r.Z)({},t),{},{color:"secondary",size:"small",sx:(0,r.Z)({},t.sx),onClick:t.onClick,children:(0,f.jsx)(d.Z,{name:u.Tu.delete})}))},h=function(e){var t=Object.assign({},((0,s.Z)(e),e));return(0,f.jsx)(l.Z,(0,r.Z)((0,r.Z)({},t),{},{color:"secondary",size:"small",sx:(0,r.Z)({},t.sx),onClick:t.onClick,children:(0,f.jsx)(d.Z,{name:u.Tu.cancel})}))},j=["text","withBackButton","withEditButton","withDeleteButton","withCancelButton","onBackButtonClick","onEditButtonClick","onDeleteButtonClick","onCancelButtonClick"],p=function(e){var t=e.text,n=e.withBackButton,s=void 0!==n&&n,l=e.withEditButton,u=void 0!==l&&l,d=e.withDeleteButton,p=void 0!==d&&d,C=e.withCancelButton,v=void 0!==C&&C,A=e.onBackButtonClick,B=e.onEditButtonClick,g=e.onDeleteButtonClick,T=e.onCancelButtonClick,k=(0,i.Z)(e,j),E=(0,c.Z)().palette.info.contrastText;return(0,f.jsxs)(a.Z,(0,r.Z)((0,r.Z)({display:"flex",alignItems:"center"},k),{},{sx:(0,r.Z)((0,r.Z)({},k.sx),{},{marginTop:2,marginBottom:5}),children:[s&&(0,f.jsx)(x,{onClick:function(){A&&A()}}),(0,f.jsx)(o.Z,{color:E,sx:{width:"100%",textAlign:"center",fontSize:{sm:22,xs:18},fontWeight:"bold"},children:t}),u&&(0,f.jsx)(Z,{onClick:function(){B&&B()}}),p&&(0,f.jsx)(m,{onClick:function(){g&&g()}}),v&&(0,f.jsx)(h,{onClick:function(){T&&T()}})]}))}},4372:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(7047)),a=n(1889),c=n(184),s=["type"];t.Z=function(e){var t=e.type,n=(0,i.Z)(e,s),l="form"===t,u=function(){switch(t){case"list":default:return{firstBar:40,secondBar:40,thirdBar:40};case"form":return{firstBar:56,secondBar:56,thirdBar:56};case"summary":return{firstBar:30,secondBar:60,thirdBar:120};case"circular":return{firstBar:64,secondBar:64,thirdBar:64}}};return"circular"===t?(0,c.jsxs)(a.ZP,{container:!0,columnGap:4,children:[(0,c.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"circular",height:u().firstBar,width:u().firstBar}))}),(0,c.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"circular",height:u().secondBar,width:u().secondBar}))}),(0,c.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"circular",height:u().thirdBar,width:u().firstBar}))})]}):(0,c.jsxs)(a.ZP,{container:!0,justifyContent:"center",rowGap:l?5:2,children:[(0,c.jsx)(a.ZP,{item:!0,xs:12,children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"rounded",height:u().firstBar}))}),(0,c.jsx)(a.ZP,{item:!0,xs:12,children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"rounded",animation:"wave",height:u().secondBar}))}),(0,c.jsx)(a.ZP,{item:!0,xs:12,children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"rounded",height:u().thirdBar}))})]})}},7034:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(9658)),a=n(3543),c=n(184),s=["open","text","type","onClose"];t.Z=function(e){var t=e.open,n=void 0!==t&&t,l=e.text,u=e.type,d=e.onClose,f=(0,i.Z)(e,s);return(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)({open:n,autoHideDuration:5e3,onClose:function(){d()}},f),{},{children:(0,c.jsx)(o.Z,{severity:u,children:l})}))}}}]);
//# sourceMappingURL=387.0cec72fd.chunk.js.map