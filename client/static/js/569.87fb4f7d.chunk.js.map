{"version":3,"file":"static/js/569.87fb4f7d.chunk.js","mappings":"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","sources":["modules/Reports.tsx","shared/components/Skeleton.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Doughnut } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, ChartData } from 'chart.js';\nimport Box from '@mui/material/Box';\nimport { useTheme } from '@mui/material/styles';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport { useTranslation } from 'core/i18n';\nimport { getReports, selectReport } from 'store/reducers';\nimport { CHART_COLOR_SCHEME, MONTHS } from 'shared/constants';\nimport PageTitle from 'shared/components/PageTitle';\nimport Skeleton from 'shared/components/Skeleton';\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst Reports: React.FC<{}> = () => {\n  const { t } = useTranslation();\n  const dispatch = useAppDispatch();\n  const { reports, status } = useAppSelector(selectReport);\n  const { palette: { info: { contrastText } } } = useTheme();\n  const months = reports.map((report) => {\n    const monthName = MONTHS.find(({ index }) => index === report.month)?.nameKey || '';\n\n    return t(monthName);\n  });\n  const values = reports.map(({ value }) => value);\n  const loading = status === 'loading';\n\n  const data: ChartData<'doughnut', number[], string> = {\n    labels: months,\n    datasets: [\n      {\n        label: t('COMMON.AMOUNT') as string,\n        data: values,\n        backgroundColor: CHART_COLOR_SCHEME,\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const renderContent = (): React.ReactElement => {\n    if (loading) {\n      return <Skeleton type='list' />;\n    }\n\n    return (\n      <Box display='flex' justifyContent='center'>\n        <Doughnut data={data} options={{ responsive: true, aspectRatio: 1.5, color: contrastText }} />\n      </Box>\n    );\n  };\n\n  React.useEffect(() => {\n    if (status === 'idle') {\n      dispatch(getReports());\n    }\n  }, [dispatch, status]);\n\n  return (\n    <Box display='flex' flexDirection='column' flexGrow={1}>\n      <PageTitle data-testid='page-title' text={t('REPORTS.PAGE_TITLE')} />\n      {renderContent()}\n    </Box>\n  );\n};\n\nexport default Reports;\n","import * as React from 'react';\nimport MuiSkeleton, { SkeletonProps as MuiSkeletonProps } from '@mui/material/Skeleton';\nimport Grid from '@mui/material/Grid';\n\ntype SkeletonProps = {\n  type: 'list' | 'form' | 'summary' | 'circular'\n} & MuiSkeletonProps;\n\nconst Skeleton: React.FC<SkeletonProps> = ({ type, ...props }) => {\n  const isCircular = type === 'circular';\n  const isForm = type === 'form';\n\n  const getSize = () => {\n    switch (type) {\n    case 'list':\n      return { firstBar: 40, secondBar: 40, thirdBar: 40 };\n\n    case 'form':\n      return { firstBar: 56, secondBar: 56, thirdBar: 56 };\n\n    case 'summary':\n      return { firstBar: 30, secondBar: 60, thirdBar: 120 };\n\n    case 'circular':\n      return { firstBar: 64, secondBar: 64, thirdBar: 64 };\n\n    default:\n      return { firstBar: 40, secondBar: 40, thirdBar: 40 };\n    }\n  };\n\n  return isCircular\n    ? (\n      <Grid container columnGap={4} rowGap={4}>\n        <Grid item width={100} display='flex' justifyContent='center'>\n          <MuiSkeleton {...props} variant='circular' height={getSize().firstBar} width={getSize().firstBar} />\n        </Grid>\n        <Grid item width={100} display='flex' justifyContent='center'>\n          <MuiSkeleton {...props} variant='circular' height={getSize().secondBar} width={getSize().secondBar} />\n        </Grid>\n        <Grid item width={100} display='flex' justifyContent='center'>\n          <MuiSkeleton {...props} variant='circular' height={getSize().thirdBar} width={getSize().firstBar} />\n        </Grid>\n      </Grid>\n    )\n    : (\n      <Grid container justifyContent='center' rowGap={isForm ? 5 : 2}>\n        <Grid item xs={12}>\n          <MuiSkeleton {...props} variant='rounded' height={getSize().firstBar} />\n        </Grid>\n        <Grid item xs={12}>\n          <MuiSkeleton {...props} variant='rounded' animation='wave' height={getSize().secondBar} />\n        </Grid>\n        <Grid item xs={12}>\n          <MuiSkeleton {...props} variant='rounded' height={getSize().thirdBar} />\n        </Grid>\n      </Grid>\n    );\n};\n\nexport default Skeleton;\n"],"names":["ChartJS","register","ArcElement","Tooltip","Legend","Reports","t","useTranslation","dispatch","useAppDispatch","reports","status","useAppSelector","selectReport","palette","info","contrastText","useTheme","months","map","report","_MONTHS$find","monthName","MONTHS","find","_ref","index","month","nameKey","values","_ref2","value","loading","data","labels","datasets","label","backgroundColor","CHART_COLOR_SCHEME","borderWidth","React","getReports","_jsxs","Box","display","flexDirection","flexGrow","children","_jsx","PageTitle","text","Skeleton","type","justifyContent","Doughnut","options","responsive","aspectRatio","color","props","isForm","getSize","firstBar","secondBar","thirdBar","Grid","container","columnGap","rowGap","item","width","MuiSkeleton","variant","height","xs","animation"],"sourceRoot":""}