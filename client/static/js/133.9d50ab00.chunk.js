(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[133],{8190:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>w});var s=t(2791),r=t(7689),n=t(56),i=t(2385),a=t(9276),o=t(4518),d=t(3394),c=t(5900),x=t(6581),u=t(184);const h=()=>{const{t:e}=(0,d.$G)(),l=(0,r.s0)();return(0,u.jsxs)(a.Z,{flexGrow:1,children:[(0,u.jsx)(c.Z,{text:e("INVOICES.PAGE_TITLE")}),(0,u.jsx)(a.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,u.jsx)(o.Z,{"aria-label":"New transfer",color:"secondary",variant:"contained",startIcon:(0,u.jsx)(x.Z,{name:i.Tu.receipt}),sx:{width:{sm:"auto",xs:"100%"},fontSize:14},onClick:()=>{l("".concat(n.Z6.invoices.path,"/new"))},children:e("INVOICES.NEW_INVOICE")})})]})};var m=t(8870),C=t(1889),j=t(8112),y=t(7931),v=t(93),b=t(8126);b.Zx.register({family:"SourceSansPro",fonts:[{src:"https://fonts.gstatic.com/s/sourcesanspro/v14/6xK3dSBYKcSV-LCoeQqfX1RYOo3aPw.ttf",fontWeight:400},{src:"https://fonts.gstatic.com/s/sourcesanspro/v14/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rAkA.ttf",fontWeight:700}]});const E=b.mM.create({page:{backgroundColor:"#E4E4E4",fontFamily:"SourceSansPro",padding:20},title:{fontSize:15,fontWeight:"bold",textAlign:"center"},heading:{paddingTop:10,display:"flex",flexDirection:"row",alignItems:"center"},label:{fontSize:12,fontWeight:"bold",marginRight:10},value:{fontSize:12},account:{fontSize:12,marginTop:30},sellerBuyer:{display:"flex",flexDirection:"row",alignItems:"flex-start",marginTop:40},seller:{flex:50},buyer:{flex:50},table:{display:"flex",flexDirection:"column",marginTop:40},headerRow:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"#959ba1"},bodyRow:{display:"flex",flexDirection:"row",alignItems:"center",borderStyle:"solid",borderTopWidth:0,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1},tableCol:{borderStyle:"solid",borderTopWidth:0,borderRightWidth:1,borderBottomWidth:0,borderLeftWidth:0},noCol:{width:"5%"},nameCol:{width:"22%"},unitCol:{width:"5%"},quantityCol:{width:"5%"},unitNetPriceCol:{width:"13%"},netValueCol:{width:"12%"},vatRateCol:{width:"5%"},vatAmountCol:{width:"12%"},grossValueCol:{width:"12%"},currencyCol:{width:"9%"},tableCell:{fontSize:11,margin:4},total:{marginTop:20,fontSize:13,fontWeight:"bold",textAlign:"right"},vatExemption:{marginTop:20,fontSize:11}}),I=(e,l)=>(0,u.jsx)(b.xv,{style:E.tableCell,hyphenationCallback:e=>((e,l)=>{const t=Math.ceil(e.length/l),s=new Array(t);for(let r=0,n=0;r<t;++r,n+=l)s[r]=e.substring(n,n+l);return s})(e,l),children:e}),N=e=>{var l,t,s,r,n,i;let{data:a}=e;const{t:o}=(0,d.$G)();return(0,u.jsx)(b.BB,{children:(0,u.jsxs)(b.T3,{size:"A4",style:E.page,children:[(0,u.jsx)(b.G7,{children:(0,u.jsx)(b.xv,{style:E.title,children:a.title})}),(0,u.jsxs)(b.G7,{style:E.heading,children:[(0,u.jsxs)(b.xv,{style:E.label,children:[o("INVOICES.DOCUMENT.INVOICE_NO"),"."]}),(0,u.jsx)(b.xv,{style:E.value,children:(0,v.D9)()})]}),(0,u.jsxs)(b.G7,{style:E.heading,children:[(0,u.jsxs)(b.xv,{style:E.label,children:[o("INVOICES.DOCUMENT.ISSUE_DATE"),":"]}),(0,u.jsx)(b.xv,{style:E.value,children:(0,v.Ux)()})]}),(0,u.jsxs)(b.G7,{style:E.heading,children:[(0,u.jsxs)(b.xv,{style:E.label,children:[o("INVOICES.DOCUMENT.SALE_DATE"),":"]}),(0,u.jsx)(b.xv,{style:E.value,children:(0,v.Vc)()})]}),(0,u.jsxs)(b.G7,{style:E.heading,children:[(0,u.jsxs)(b.xv,{style:E.label,children:[o("INVOICES.DOCUMENT.DUE_DATE"),":"]}),(0,u.jsx)(b.xv,{style:E.value,children:(0,v.FW)(14)})]}),(0,u.jsxs)(b.G7,{style:E.heading,children:[(0,u.jsxs)(b.xv,{style:E.label,children:[o("INVOICES.DOCUMENT.PAYMENT_TYPE"),":"]}),(0,u.jsx)(b.xv,{style:E.value,children:o("INVOICES.DOCUMENT.TRANSFER")})]}),(0,u.jsxs)(b.G7,{style:E.sellerBuyer,children:[(0,u.jsxs)(b.G7,{style:E.seller,children:[(0,u.jsxs)(b.xv,{style:E.label,children:[o("INVOICES.DOCUMENT.SELLER"),":"]}),(0,u.jsxs)(b.G7,{children:[(0,u.jsx)(b.xv,{style:E.value,children:a.sellerName}),(0,u.jsx)(b.xv,{style:E.value,children:a.sellerAddress}),(0,u.jsx)(b.xv,{style:E.value,children:a.sellerLocation}),(0,u.jsx)(b.xv,{style:E.value,children:a.sellerVatID}),(0,u.jsx)(b.xv,{style:E.account,children:a.sellerAccount})]})]}),(0,u.jsxs)(b.G7,{style:E.buyer,children:[(0,u.jsxs)(b.xv,{style:E.label,children:[o("INVOICES.DOCUMENT.BUYER"),":"]}),(0,u.jsxs)(b.G7,{children:[(0,u.jsx)(b.xv,{style:E.value,children:a.buyerName}),(0,u.jsx)(b.xv,{style:E.value,children:a.buyerAddress}),(0,u.jsx)(b.xv,{style:E.value,children:a.buyerLocation}),(0,u.jsx)(b.xv,{style:E.value,children:a.buyerVatID})]})]})]}),(0,u.jsxs)(b.G7,{style:E.table,children:[(0,u.jsxs)(b.G7,{style:E.headerRow,children:[(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.noCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:o("INVOICES.DOCUMENT.TABLE.NO")})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.nameCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:o("INVOICES.DOCUMENT.TABLE.NAME")})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.unitCol},children:I(o("INVOICES.DOCUMENT.TABLE.UNIT"),3)}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.quantityCol},children:I(o("INVOICES.DOCUMENT.TABLE.QUANTITY"),3)}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.unitNetPriceCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:o("INVOICES.DOCUMENT.TABLE.UNIT_NET_PRICE")})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.netValueCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:o("INVOICES.DOCUMENT.TABLE.NET_VALUE")})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.vatRateCol},children:I(o("INVOICES.DOCUMENT.TABLE.VAT_RATE"),3)}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.vatAmountCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:o("INVOICES.DOCUMENT.TABLE.VAT_AMOUNT")})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.grossValueCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:o("INVOICES.DOCUMENT.TABLE.GROSS_VALUE")})}),(0,u.jsx)(b.G7,{style:{...E.currencyCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:o("INVOICES.DOCUMENT.TABLE.CURRENCY")})})]}),(0,u.jsxs)(b.G7,{style:E.bodyRow,children:[(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.noCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:"1"})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.nameCol},children:I("".concat(o("INVOICES.DOCUMENT.TABLE.PROGRAMMING_SERVICES")," ").concat((0,v.VY)()),20)}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.unitCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:"\u2014"})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.quantityCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:"1"})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.unitNetPriceCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:null===(l=a.amount)||void 0===l?void 0:l.net})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.netValueCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:null===(t=a.amount)||void 0===t?void 0:t.net})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.vatRateCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:a.vatIncluded?null===(s=a.amount)||void 0===s?void 0:s.vatRate:"\u2014"})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.vatAmountCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:a.vatIncluded?null===(r=a.amount)||void 0===r?void 0:r.vatAmount:"\u2014"})}),(0,u.jsx)(b.G7,{style:{...E.tableCol,...E.grossValueCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:null===(n=a.amount)||void 0===n?void 0:n.gross})}),(0,u.jsx)(b.G7,{style:{...E.currencyCol},children:(0,u.jsx)(b.xv,{style:E.tableCell,children:"PLN"})})]})]}),(0,u.jsx)(b.G7,{style:E.total,children:(0,u.jsxs)(b.xv,{children:[o("INVOICES.DOCUMENT.TABLE.TOTAL"),": ",null===(i=a.amount)||void 0===i?void 0:i.gross," PLN"]})}),!a.vatIncluded&&(0,u.jsx)(b.G7,{style:E.vatExemption,children:(0,u.jsx)(b.xv,{children:o("INVOICES.DOCUMENT.TABLE.VAT_EXEMPTION")})})]})})};var g=t(1134),O=t(5022),p=t(5523),T=t(9955),Z=t(890),S=t(5527),A=t(3967),f=t(7497),M=t(1890),V=t(9078);const G=e=>{let{onSubmit:l,onCurrencyChange:t}=e;const{t:r}=(0,d.$G)(),a=(0,v.w8)(),{palette:{info:{contrastText:c}}}=(0,A.Z)(),{defaultCurrency:{iso:x}}=(0,j.CG)(y.vi),h=n.a,m=n.Mf,[b,E]=s.useState(x),[I,N]=s.useState(!1),G={title:"",salary:"",currencyIso:x,vatIncluded:!1,sellerName:"",sellerAddress:"",sellerLocation:"",sellerVatID:"",sellerAccount:"",buyerName:"",buyerAddress:"",buyerLocation:"",buyerVatID:""},D=(0,g.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:G}),{setValue:L,handleSubmit:P}=D,W=e=>{l(e)};return(0,u.jsx)(g.RV,{...D,children:(0,u.jsx)("form",{onSubmit:P(W),children:(0,u.jsxs)(C.ZP,{container:!0,gap:3,children:[(0,u.jsx)(C.ZP,{item:!0,container:!0,children:(0,u.jsxs)(S.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:6,width:"100%"},children:[(0,u.jsx)(Z.Z,{sx:{marginBottom:2},children:r("INVOICES.MAIN_INFO")}),(0,u.jsxs)(C.ZP,{item:!0,container:!0,gap:7,children:[(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.TITLE"),name:i.W4.title,rules:{required:{value:!0,message:r(a.title.required.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.SALARY"),type:"number",name:i.W4.salary,rules:{required:{value:!0,message:r(a.salary.required.message)},pattern:{value:h,message:r(a.salary.pattern.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(M.Z,{label:r("COMMON.CURRENCY"),name:i.W4.currencyIso,value:b||x,onChange:e=>{const l=e.target.value;L(i.W4.currencyIso,l),E(l),t(l)},rules:{required:{value:!0,message:r(a.currencyIso.required.message)}},children:m.map((e=>{let{iso:l,name:t,nameKey:s,symbol:r}=e;return(0,u.jsx)(O.Z,{value:l,children:(0,u.jsx)(V.Z,{currency:{iso:l,symbol:r,name:t,nameKey:s}})},l)}))})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(p.Z,{control:(0,u.jsx)(T.Z,{checked:I,onChange:(e,l)=>{L(i.W4.vatIncluded,l),N(l)}}),label:(0,u.jsx)(Z.Z,{color:c,children:r("INVOICES.INCLUDE_VAT")}),labelPlacement:"start",sx:{"&.MuiFormControlLabel-root":{margin:0}}})})]})]})}),(0,u.jsx)(C.ZP,{item:!0,container:!0,children:(0,u.jsxs)(S.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:7,width:"100%"},children:[(0,u.jsx)(Z.Z,{sx:{marginBottom:2},children:r("INVOICES.SELLER_INFO")}),(0,u.jsxs)(C.ZP,{item:!0,container:!0,gap:7,children:[(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.NAME"),name:i.W4.sellerName,rules:{required:{value:!0,message:r(a.sellerName.required.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.ADDRESS"),name:i.W4.sellerAddress,rules:{required:{value:!0,message:r(a.sellerAddress.required.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.LOCATION"),name:i.W4.sellerLocation,rules:{required:{value:!0,message:r(a.sellerLocation.required.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.VAT_ID"),name:i.W4.sellerVatID,rules:{required:{value:!0,message:r(a.sellerVatID.required.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.ACCOUNT"),name:i.W4.sellerAccount,rules:{required:{value:!0,message:r(a.sellerAccount.required.message)}}})})]})]})}),(0,u.jsx)(C.ZP,{item:!0,container:!0,children:(0,u.jsxs)(S.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:7,width:"100%"},children:[(0,u.jsx)(Z.Z,{sx:{marginBottom:2},children:r("INVOICES.BUYER_INFO")}),(0,u.jsxs)(C.ZP,{item:!0,container:!0,gap:7,children:[(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.NAME"),name:i.W4.buyerName,rules:{required:{value:!0,message:r(a.buyerName.required.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.ADDRESS"),name:i.W4.buyerAddress,rules:{required:{value:!0,message:r(a.buyerAddress.required.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.LOCATION"),name:i.W4.buyerLocation,rules:{required:{value:!0,message:r(a.buyerLocation.required.message)}}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(f.Z,{label:r("COMMON.VAT_ID"),name:i.W4.buyerVatID,rules:{required:{value:!0,message:r(a.buyerVatID.required.message)}}})})]})]})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,children:(0,u.jsx)(o.Z,{"aria-label":"Save invoice",fullWidth:!0,type:"submit",variant:"contained",onClick:P(W),children:r("COMMON.PREVIEW")})})]})})})};var D,L=t(168);const P=(0,t(225).Z)(b.Z$)(D||(D=(0,L.Z)(["\n  min-height: calc(100vh - 100px);\n  width: 100%;\n"]))),W=e=>{let{mode:l}=e;const{t:t}=(0,d.$G)(),i=(0,r.s0)(),{rate:a,amount:o}=(0,j.CG)(y.xF),x=(0,j.TL)(),[h,b]=s.useState({}),E=s.useCallback((()=>{i("".concat(n.Z6.invoices.path))}),[i]);s.useEffect((()=>{b((e=>({...e,amount:o})))}),[o]);return(0,u.jsxs)(m.Z,{flexGrow:1,children:[(0,u.jsx)(c.Z,{withBackButton:!0,text:t("INVOICES.NEW_INVOICE"),onBackButtonClick:E}),(0,u.jsxs)(C.ZP,{container:!0,columnSpacing:3,rowSpacing:5,children:[(0,u.jsx)(C.ZP,{item:!0,xs:12,sm:6,children:(0,u.jsx)(G,{onSubmit:e=>{const{salary:l,vatIncluded:t}=e;x((0,y.T1)({rate:a,salary:l,vatIncluded:t})),b({...e,amount:o})},onCurrencyChange:e=>{x((0,y.pF)([e,(0,v.Vc)()]))}})}),(0,u.jsx)(C.ZP,{item:!0,xs:12,sm:6,children:(0,u.jsx)(P,{children:(0,u.jsx)(N,{data:h})})})]})]})},w=()=>(0,u.jsxs)(r.Z5,{children:[(0,u.jsx)(r.AW,{path:"/",element:(0,u.jsx)(h,{})}),(0,u.jsx)(r.AW,{path:"/new",element:(0,u.jsx)(W,{mode:i.df.create})}),(0,u.jsx)(r.AW,{path:"/view/:id",element:(0,u.jsx)(W,{mode:i.df.view})}),(0,u.jsx)(r.AW,{path:"/edit/:id",element:(0,u.jsx)(W,{mode:i.df.edit})}),(0,u.jsx)(r.AW,{path:"*",element:(0,u.jsx)(r.Fg,{to:n.Z6.invoices.path,replace:!0})})]})},7497:(e,l,t)=>{"use strict";t.d(l,{Z:()=>h});t(2791);var s,r=t(1134),n=t(7071),i=t(8870),a=t(3967),o=t(168),d=t(225),c=t(3006);const x=(0,d.Z)(c.Z)(s||(s=(0,o.Z)(["\n  &.MuiInputBase-input {\n    border-color: ",";\n    color: ",";\n  },\n  &.MuiOutlinedInput-root {\n    &.Mui-error {\n      & .MuiOutlinedInput-notchedOutline: {\n        border-color: ",",\n      }\n    }\n    border-color: ",";\n    color: ",";\n  }\n"])),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.error.main),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.error.main));var u=t(184);const h=e=>{let{name:l,rules:t={},...s}=e;const o=(0,a.Z)(),{control:d,formState:{errors:c}}=(0,r.Gc)();return(0,u.jsx)(r.Qr,{control:d,name:l,rules:t,render:e=>{let{field:t,fieldState:{error:r}}=e;return(0,u.jsxs)(i.Z,{position:"relative",children:[(0,u.jsx)(x,{fullWidth:!0,...t,...s,theme:o,error:!!c[l]}),c[l]&&(0,u.jsx)(n.Z,{sx:{position:"absolute"},error:!0,children:null===r||void 0===r?void 0:r.message})]})}})}},1890:(e,l,t)=>{"use strict";t.d(l,{Z:()=>d});t(2791);var s=t(1134),r=t(7198),n=t(7071),i=t(8870),a=t(4925),o=t(184);const d=e=>{let{name:l,label:t,rules:d={},children:c,...x}=e;const{control:u,formState:{errors:h}}=(0,s.Gc)();return(0,o.jsx)(s.Qr,{control:u,name:l,rules:d,render:e=>{let{field:s,fieldState:{error:d}}=e;return(0,o.jsxs)(i.Z,{position:"relative",children:[(0,o.jsx)(a.Z,{children:t}),(0,o.jsx)(r.Z,{fullWidth:!0,variant:"outlined",error:!!h[l],...s,...x,children:c}),h[l]&&(0,o.jsx)(n.Z,{sx:{position:"absolute"},error:!0,children:null===d||void 0===d?void 0:d.message})]})}})}},2480:()=>{}}]);
//# sourceMappingURL=133.9d50ab00.chunk.js.map