"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[291],{1291:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var i=n(2791),a=n(7689),o=n(5980),c=n(2385),r=n(1413),l=n(9439),s=n(9276),u=n(1889),d=n(4102),f=n(8112),m=n(7931),x=n(5814),Z=n(4372),h=n(5900),p=n(8692),j=n(7195),g=n(184),E=function(){var e=o.G7,t=(0,f.TL)(),n=(0,f.CG)(m.uY),E=n.categories,C=n.status,v=(0,a.s0)(),T=(0,d.$G)().t,y=i.useState(String(c.a9.expense)),G=(0,l.Z)(y,2),b=G[0],O=G[1],S={id:"",name:"New category",nameKey:"CATEGORIES.NEW_CATEGORY",icon:c.Tu.plus,type:Number(b)};i.useEffect((function(){"idle"===C&&t((0,m.CP)())}),[t,C]);var w=function(e){var t=e.id,n=e.name;v("".concat(o.Z6.categories.path,"/view/").concat(n),{state:{id:t}})},k=function(e){return(0,r.Z)((0,r.Z)({},e),{},{name:e.nameKey?T(e.nameKey):e.name})};return(0,g.jsxs)(s.Z,{flexGrow:1,children:[(0,g.jsx)(h.Z,{text:T("CATEGORIES.PAGE_TITLE")}),(0,g.jsx)(x.Z,{centered:!0,defaultValue:b,tabs:e,onChange:function(e,t){O(t)},sx:{marginBottom:3}}),(0,g.jsxs)(u.ZP,{container:!0,columnGap:4,rowGap:4,sx:{marginTop:4},children:["loading"===C?(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(Z.Z,{type:"circular"})}):"failed"!==C&&"succeeded"!==C||null!==E&&void 0!==E&&E.length?(0,g.jsx)(g.Fragment,{children:E.filter((function(e){var t=e.type;return String(t)===b})).map((function(e){return(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(p.Z,{data:k(e),onItemClick:w})},e.id)}))}):(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{text:T("CATEGORIES.EMPTY_TEXT")})}),(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(p.Z,{data:k(S),onItemClick:function(){v("".concat(o.Z6.categories.path,"/new"),{state:{categoryType:b}})}})})]})]})},C=n(1134),v=n(8870),T=n(890),y=n(3967),G=n(7233),b=n(1634),O=n(7497),S=n(7034),w=n(2581),k=n(7730),V=n(9525),A=n(8556),I=function(e){var t=e.mode,n=o.G7,s=o.Qr,x=(0,a.s0)(),p=(0,a.TH)().state,E=(0,f.TL)(),I=(0,f.CG)(m.uY),P=I.getStatus,M=I.createEditStatus,N=I.deleteStatus,q=(0,f.CG)(m.Qk),R=(0,f.CG)(m.$_),_=(0,y.Z)().palette.info.contrastText,B=(0,G.VU)(),D=(0,d.$G)().t,W=i.useState(!1),Y=(0,l.Z)(W,2),K=Y[0],L=Y[1],$=i.useState(!1),z=(0,l.Z)($,2),F=z[0],X=z[1],Q=i.useState(!1),H=(0,l.Z)(Q,2),U=H[0],J=H[1],ee=i.useState(!1),te=(0,l.Z)(ee,2),ne=te[0],ie=te[1],ae="loading"===M,oe="loading"===N,ce=null===p||void 0===p?void 0:p.id,re=null!==R&&void 0!==R&&R.nameKey?D(R.nameKey):(null===R||void 0===R?void 0:R.name)||"",le=null===p||void 0===p?void 0:p.categoryType,se=t===c.df.create,ue=t===c.df.edit,de=t===c.df.view,fe=(0,G.pz)(t,D,P,"CATEGORIES","NEW_CATEGORY","EMPTY_TITLE",R),me={type:String(le),name:""},xe=(0,C.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:me}),Ze=xe.setValue,he=xe.handleSubmit,pe=xe.watch,je=xe.reset,ge=Number(pe(c.Vq.type)),Ee=function(e){var t=e.id;de||Ze(c.Vq.icon,t,{shouldValidate:!0})},Ce=function(e){var t=Number(e);Ze(c.Vq.type,t,{shouldValidate:!0})},ve=function(e){E(ue?(0,m.ht)([ce,e]):(0,m.k4)(e)),L(!0)},Te=i.useCallback((function(){R&&(Ze(c.Vq.type,String(R.type)),Ze(c.Vq.name,R.nameKey?D(R.nameKey):R.name),Ze(c.Vq.icon,R.icon))}),[R,Ze,D]),ye=i.useCallback((function(){E((0,m.ZX)())}),[E]),Ge=i.useCallback((function(){x("".concat(o.Z6.categories.path)),ye()}),[x,ye]);i.useEffect((function(){"succeeded"===M&&K&&(Ge(),J(!1)),"failed"===M&&K&&J(!0)}),[Ge,M,K]),i.useEffect((function(){"succeeded"===N&&F&&Ge(),"failed"===N&&F&&(J(!0),ie(!1))}),[Ge,N,F]),i.useEffect((function(){ce||E((0,m.EV)())}),[ce,E]),i.useEffect((function(){ce&&"idle"===P&&(ue||de)&&!F&&E((0,m.n3)(ce))}),[ce,ue,de,P,E,F]),i.useEffect((function(){Te()}),[Te]),i.useEffect((function(){return function(){ye()}}),[ye]);return(0,g.jsxs)(v.Z,{component:"form",display:"flex",flexDirection:"column",flexGrow:1,onSubmit:he(ve),children:[(0,g.jsx)(h.Z,{withBackButton:!0,withEditButton:de&&!!R,withDeleteButton:ue&&!!R,withCancelButton:!de&&!!R,text:fe,onBackButtonClick:Ge,onEditButtonClick:function(){ue||x("".concat(o.Z6.categories.path,"/edit/").concat(re),{state:{id:ce}})},onDeleteButtonClick:function(){ie(!0)},onCancelButtonClick:function(){se?je(me):Te(),ue?x("".concat(o.Z6.categories.path,"/view/").concat(re),{state:{id:ce}}):x(o.Z6.categories.path)}}),(0,g.jsx)(v.Z,{flexGrow:1,children:"loading"===P?(0,g.jsx)(Z.Z,{type:"form"}):se||R&&ce||"failed"!==P?(0,g.jsx)(C.RV,(0,r.Z)((0,r.Z)({},xe),{},{children:(0,g.jsxs)(u.ZP,{container:!0,rowGap:5,children:[(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(O.Z,{InputProps:{readOnly:de},label:D("COMMON.NAME"),name:c.Vq.name,rules:{required:{value:!0,message:D(B.name.required.message)}}})}),(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,g.jsx)(T.Z,{color:_,sx:{marginY:1},children:D("COMMON.TYPE")}),(0,g.jsx)(k.Z,{readonly:de,name:c.Vq.type,rules:{required:{value:!0,message:D(B.type.required.message)}},options:(0,G.hf)(n,D),labelColor:_,value:ge,onRadioChange:Ce})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(A.Z,{name:c.Vq.icon,label:D("COMMON.ICON"),rules:{required:{value:!0,message:D(B.icon.required.message)}},render:function(e){var t=e.field;return(0,g.jsx)(u.ZP,(0,r.Z)((0,r.Z)({container:!0},t),{},{columnGap:1,rowGap:3,sx:{marginTop:2},children:s.map((function(e){var n=e.name;return(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(w.Z,{selected:t.value,id:n,icon:n,size:50,readonly:de,onClick:Ee})},n)}))}))}})})]})})):(0,g.jsx)(j.Z,{text:D("CATEGORIES.EMPTY_TEXT_RENDER_CONTENT")})}),!de&&(0,g.jsx)(u.ZP,{container:!0,display:"flex",justifyContent:"flex-end",rowGap:2,columnGap:2,sx:{marginTop:4},children:(0,g.jsx)(u.ZP,{item:!0,sm:"auto",xs:12,children:(0,g.jsx)(b.Z,{"aria-label":"Save category",fullWidth:!0,type:"submit",variant:"contained",loading:ae,onClick:he(ve),children:D("COMMON.SAVE")})})}),(0,g.jsx)(S.Z,{type:"error",text:null!==q&&void 0!==q&&q.messageKey?D(q.messageKey):(null===q||void 0===q?void 0:q.message)||"",open:U,onClose:function(){J(!1),X(!1)}}),(0,g.jsx)(V.Z,{fullWidth:!0,maxWidth:"xs",title:D("CATEGORIES.DELETE_DIALOG_TITLE"),actionButtonText:D("COMMON.YES"),open:ne,loading:oe,onClose:function(){ie(!1)},onAction:function(){E((0,m.uu)(ce)),X(!0)},children:(0,g.jsx)(T.Z,{variant:"subtitle1",children:D("CATEGORIES.DELETE_DIALOG_CONFIRM")})})]})},P=function(){return(0,g.jsxs)(a.Z5,{children:[(0,g.jsx)(a.AW,{path:"/",element:(0,g.jsx)(E,{})}),(0,g.jsx)(a.AW,{path:"/new",element:(0,g.jsx)(I,{mode:c.df.create})}),(0,g.jsx)(a.AW,{path:"/view/:id",element:(0,g.jsx)(I,{mode:c.df.view})}),(0,g.jsx)(a.AW,{path:"/edit/:id",element:(0,g.jsx)(I,{mode:c.df.edit})}),(0,g.jsx)(a.AW,{path:"*",element:(0,g.jsx)(a.Fg,{to:o.Z6.categories.path,replace:!0})})]})}},2581:function(e,t,n){n(2791);var i=n(8870),a=n(3967),o=n(6581),c=n(184);t.Z=function(e){var t=e.id,n=e.selected,r=e.icon,l=e.size,s=void 0===l?64:l,u=e.disabled,d=e.readonly,f=e.onClick,m=(0,a.Z)().palette,x=m.primary,Z=x.main,h=x.contrastText,p=m.action;return(0,c.jsx)(i.Z,{display:"flex",flexDirection:"column",alignItems:"center",width:s+20,children:(0,c.jsx)(i.Z,{onClick:function(e){return function(){d||f&&f({id:e})}}(t),sx:{backgroundColor:u?p.disabled:n===t?Z:"transparent",border:u?"none":"1px solid ".concat(Z),color:n===t?h:Z,height:s,width:s,borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:u||d?"default":"pointer"},children:(0,c.jsx)(o.Z,{name:r})})})}},5814:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(1413),a=n(9439),o=n(5987),c=n(2791),r=n(3896),l=n(4102),s=n(225),u=n(5228),d=(0,s.Z)(u.Z)({"&.MuiTabs-root":{}}),f=n(184),m=["tabs","defaultValue","onChange"],x=function(e){var t=e.tabs,n=e.defaultValue,s=void 0===n?"0":n,u=e.onChange,x=(0,o.Z)(e,m),Z=(0,l.$G)().t,h=c.useState(s),p=(0,a.Z)(h,2),j=p[0],g=p[1];return(0,f.jsx)(d,(0,i.Z)((0,i.Z)({},x),{},{value:j,onChange:function(e,t){g(t),u(e,t)},children:t.map((function(e){var t=e.value,n=e.label;return(0,f.jsx)(r.Z,{value:t,label:Z(n)},t)}))}))}}}]);
//# sourceMappingURL=291.c91e378d.chunk.js.map