"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[291],{1291:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var i=t(2791),a=t(7689),o=t(5980),r=t(2385),c=t(1413),s=t(9439),l=t(9276),u=t(1889),d=t(4102),f=t(8112),x=t(7931),m=t(5814),Z=t(4372),h=t(5900),p=t(8692),j=t(7195),g=t(184),C=function(){var e=o.G7,n=(0,f.TL)(),t=(0,f.CG)(x.uY),C=t.categories,E=t.status,v=(0,a.s0)(),T=(0,d.$G)().t,y=i.useState(String(r.a9.expense)),G=(0,s.Z)(y,2),b=G[0],O=G[1],S={id:"",name:"New category",nameKey:"CATEGORIES.NEW_CATEGORY",icon:r.Tu.plus,type:Number(b)};i.useEffect((function(){"idle"===E&&n((0,x.CP)())}),[n,E]);var w=function(e){var n=e.id,t=e.name;v("".concat(o.Z6.categories.path,"/view/").concat(t),{state:{id:n}})},k=function(e){return(0,c.Z)((0,c.Z)({},e),{},{name:e.nameKey?T(e.nameKey):e.name})};return(0,g.jsxs)(l.Z,{flexGrow:1,children:[(0,g.jsx)(h.Z,{text:T("CATEGORIES.PAGE_TITLE")}),(0,g.jsx)(m.Z,{centered:!0,defaultValue:b,tabs:e,onChange:function(e,n){O(n)},sx:{marginBottom:3}}),(0,g.jsxs)(u.ZP,{container:!0,columnGap:4,rowGap:4,sx:{marginTop:4},children:["loading"===E?(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(Z.Z,{type:"circular",sx:{marginTop:1}})}):"failed"!==E&&"succeeded"!==E||null!==C&&void 0!==C&&C.length?(0,g.jsx)(g.Fragment,{children:C.filter((function(e){var n=e.type;return String(n)===b})).map((function(e){return(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(p.Z,{data:k(e),onItemClick:w})},e.id)}))}):(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{text:T("CATEGORIES.EMPTY_TEXT")})}),(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(p.Z,{data:k(S),onItemClick:function(){v("".concat(o.Z6.categories.path,"/new"),{state:{categoryType:b}})}})})]})]})},E=t(1134),v=t(8870),T=t(890),y=t(7071),G=t(3967),b=t(7233),O=t(1634),S=t(7497),w=t(7034),k=t(2581),A=t(7730),I=t(9525),P=function(e){var n=e.mode,t=o.G7,l=o.Qr,m=(0,a.s0)(),p=(0,a.TH)().state,C=(0,f.TL)(),P=(0,f.CG)(x.uY),V=P.status,M=P.deleteStatus,N=P.currentStatus,R=(0,f.CG)(x.Qk),_=(0,f.CG)(x.$_),q=(0,G.Z)().palette.info.contrastText,B=(0,b.VU)(),Y=(0,d.$G)().t,D=i.useState(!1),W=(0,s.Z)(D,2),K=W[0],L=W[1],F=i.useState(!1),$=(0,s.Z)(F,2),Q=$[0],z=$[1],X=i.useState(!1),H=(0,s.Z)(X,2),U=H[0],J=H[1],ee=i.useState(!1),ne=(0,s.Z)(ee,2),te=ne[0],ie=ne[1],ae="loading"===V,oe="loading"===M,re=null===p||void 0===p?void 0:p.id,ce=null!==_&&void 0!==_&&_.nameKey?Y(_.nameKey):(null===_||void 0===_?void 0:_.name)||"",se=null===p||void 0===p?void 0:p.categoryType,le=n===r.df.create,ue=n===r.df.edit,de=n===r.df.view,fe={type:String(se),name:""},xe=(0,E.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:fe}),me=xe.setValue,Ze=xe.handleSubmit,he=xe.control,pe=xe.watch,je=xe.reset,ge=Number(pe(r.Vq.type)),Ce=function(e){var n=e.id;de||me(r.Vq.icon,n,{shouldValidate:!0})},Ee=function(e){var n=Number(e);me(r.Vq.type,n,{shouldValidate:!0})},ve=function(e){C(ue?(0,x.ht)([re,e]):(0,x.k4)(e)),L(!0)},Te=i.useCallback((function(){_&&(me(r.Vq.type,String(_.type)),me(r.Vq.name,_.nameKey?Y(_.nameKey):_.name),me(r.Vq.icon,_.icon))}),[_,me,Y]),ye=i.useCallback((function(){C((0,x.oG)())}),[C]),Ge=i.useCallback((function(){m("".concat(o.Z6.categories.path)),ye()}),[m,ye]);i.useEffect((function(){"succeeded"===V&&K&&(Ge(),J(!1)),"failed"===V&&K&&J(!0)}),[Ge,V,K]),i.useEffect((function(){"succeeded"===M&&Q&&Ge(),"failed"===M&&Q&&(J(!0),ie(!1))}),[Ge,M,Q]),i.useEffect((function(){re&&"idle"===N&&(ue||de)&&!Q&&C((0,x.n3)(re))}),[re,ue,de,N,C,Q]),i.useEffect((function(){Te()}),[Te]),i.useEffect((function(){return function(){ye()}}),[ye]);return(0,g.jsxs)(v.Z,{component:"form",display:"flex",flexDirection:"column",flexGrow:1,onSubmit:Ze(ve),children:[(0,g.jsx)(h.Z,{withBackButton:!0,withEditButton:de&&!!_,withDeleteButton:ue&&!!_,withCancelButton:!de&&!!_,text:le?Y("CATEGORIES.NEW_CATEGORY"):_&&(ue||de)?ce:"loading"!==N?Y("CATEGORIES.EMPTY_TITLE"):"",onBackButtonClick:Ge,onEditButtonClick:function(){ue||m("".concat(o.Z6.categories.path,"/edit/").concat(ce),{state:{id:re}})},onDeleteButtonClick:function(){ie(!0)},onCancelButtonClick:function(){le?je(fe):Te(),ue?m("".concat(o.Z6.categories.path,"/view/").concat(ce),{state:{id:re}}):m(o.Z6.categories.path)}}),(0,g.jsx)(v.Z,{flexGrow:1,children:"loading"===N?(0,g.jsx)(Z.Z,{type:"form"}):le||_&&re?(0,g.jsx)(E.RV,(0,c.Z)((0,c.Z)({},xe),{},{children:(0,g.jsxs)(u.ZP,{container:!0,rowGap:5,children:[(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(S.Z,{InputProps:{readOnly:de},label:Y("COMMON.NAME"),name:r.Vq.name,rules:{required:{value:!0,message:Y(B.name.required.message)}}})}),(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,g.jsx)(T.Z,{color:q,sx:{marginY:1},children:Y("COMMON.TYPE")}),(0,g.jsx)(A.Z,{readonly:de,name:r.Vq.type,rules:{required:{value:!0,message:Y(B.type.required.message)}},options:(0,b.hf)(t,Y),labelColor:q,value:ge,onRadioChange:Ee})]}),(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,g.jsx)(T.Z,{color:q,sx:{marginY:1},children:Y("COMMON.ICON")}),(0,g.jsx)(E.Qr,{control:he,name:r.Vq.icon,rules:{required:!0},render:function(e){var n=e.field,t=e.fieldState.error;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.ZP,(0,c.Z)((0,c.Z)({container:!0},n),{},{columnGap:1,rowGap:3,sx:{marginTop:2},children:l.map((function(e){var t=e.name;return(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(k.Z,{selected:n.value,id:t,icon:t,size:50,readonly:de,onClick:Ce})},t)}))})),t&&(0,g.jsx)(y.Z,{error:!0,children:Y(B.icon[t.type].message)})]})}})]})]})})):(0,g.jsx)(j.Z,{text:Y("CATEGORIES.EMPTY_TEXT_RENDER_CONTENT")})}),!de&&(0,g.jsx)(u.ZP,{container:!0,display:"flex",justifyContent:"flex-end",rowGap:2,columnGap:2,sx:{marginTop:4},children:(0,g.jsx)(u.ZP,{item:!0,sm:"auto",xs:12,children:(0,g.jsx)(O.Z,{"aria-label":"Save category",fullWidth:!0,type:"submit",variant:"contained",loading:ae,onClick:Ze(ve),children:Y("COMMON.SAVE")})})}),(0,g.jsx)(w.Z,{type:"error",text:null!==R&&void 0!==R&&R.messageKey?Y(R.messageKey):(null===R||void 0===R?void 0:R.message)||"",open:U,onClose:function(){J(!1),z(!1)}}),(0,g.jsx)(I.Z,{fullWidth:!0,maxWidth:"xs",title:Y("CATEGORIES.DELETE_DIALOG_TITLE"),actionButtonText:Y("COMMON.YES"),open:te,loading:oe,onClose:function(){ie(!1)},onAction:function(){C((0,x.uu)(re)),z(!0)},children:(0,g.jsx)(T.Z,{variant:"subtitle1",children:Y("CATEGORIES.DELETE_DIALOG_CONFIRM")})})]})},V=function(){return(0,g.jsxs)(a.Z5,{children:[(0,g.jsx)(a.AW,{path:"/",element:(0,g.jsx)(C,{})}),(0,g.jsx)(a.AW,{path:"/new",element:(0,g.jsx)(P,{mode:r.df.create})}),(0,g.jsx)(a.AW,{path:"/view/:id",element:(0,g.jsx)(P,{mode:r.df.view})}),(0,g.jsx)(a.AW,{path:"/edit/:id",element:(0,g.jsx)(P,{mode:r.df.edit})}),(0,g.jsx)(a.AW,{path:"*",element:(0,g.jsx)(a.Fg,{to:o.Z6.categories.path,replace:!0})})]})}},2581:function(e,n,t){t(2791);var i=t(8870),a=t(3967),o=t(6581),r=t(184);n.Z=function(e){var n=e.id,t=e.selected,c=e.icon,s=e.size,l=void 0===s?64:s,u=e.disabled,d=e.readonly,f=e.onClick,x=(0,a.Z)().palette,m=x.primary,Z=m.main,h=m.contrastText,p=x.action;return(0,r.jsx)(i.Z,{display:"flex",flexDirection:"column",alignItems:"center",width:l+20,children:(0,r.jsx)(i.Z,{onClick:function(e){return function(){d||f&&f({id:e})}}(n),sx:{backgroundColor:u?p.disabled:t===n?Z:"transparent",border:u?"none":"1px solid ".concat(Z),color:t===n?h:Z,height:l,width:l,borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:u||d?"default":"pointer"},children:(0,r.jsx)(o.Z,{name:c})})})}},5814:function(e,n,t){t.d(n,{Z:function(){return m}});var i=t(1413),a=t(9439),o=t(5987),r=t(2791),c=t(3896),s=t(4102),l=t(225),u=t(5228),d=(0,l.Z)(u.Z)({"&.MuiTabs-root":{}}),f=t(184),x=["tabs","defaultValue","onChange"],m=function(e){var n=e.tabs,t=e.defaultValue,l=void 0===t?"0":t,u=e.onChange,m=(0,o.Z)(e,x),Z=(0,s.$G)().t,h=r.useState(l),p=(0,a.Z)(h,2),j=p[0],g=p[1];return(0,f.jsx)(d,(0,i.Z)((0,i.Z)({},m),{},{value:j,onChange:function(e,n){g(n),u(e,n)},children:n.map((function(e){var n=e.value,t=e.label;return(0,f.jsx)(c.Z,{value:n,label:Z(t)},n)}))}))}}}]);
//# sourceMappingURL=291.fc84051c.chunk.js.map