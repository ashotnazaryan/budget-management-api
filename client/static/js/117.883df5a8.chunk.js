(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[117],{325:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>Y});var s=t(2791),n=t(7689),r=t(56),i=t(2385),a=t(9276),o=t(1889),d=t(3400),c=t(3394),x=t(8112),u=t(7931),h=t(5900),m=t(6581),j=t(4372),C=t(7195),v=t(5527),y=t(890),p=t(3967),f=t(184);const E=e=>{let{data:l,onClick:t}=e;const{palette:{primary:{main:s,contrastText:n}}}=(0,p.Z)(),{name:r,amount:a,currencyIso:d}=l;return(0,f.jsx)(v.Z,{elevation:1,sx:{paddingX:2,backgroundColor:s},children:(0,f.jsxs)(o.ZP,{container:!0,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,columnSpacing:2,sx:{borderRadius:1,minHeight:40,cursor:"pointer"},onClick:()=>{t&&t(l)},children:[(0,f.jsx)(o.ZP,{item:!0,xs:1,display:"flex",children:(0,f.jsx)(m.Z,{name:i.Tu.receipt,sx:{fontSize:{sm:22,xs:18},color:n}})}),(0,f.jsx)(o.ZP,{item:!0,xs:5,display:"flex",justifyContent:"flex-start",children:(0,f.jsx)(y.Z,{noWrap:!0,color:n,sx:{fontSize:{sm:15,xs:13}},children:r})}),(0,f.jsx)(o.ZP,{item:!0,xs:4,display:"flex",children:(0,f.jsxs)(y.Z,{noWrap:!0,color:n,sx:{fontSize:{sm:15,xs:13}},children:[null===a||void 0===a?void 0:a.gross," PLN"]})}),(0,f.jsx)(o.ZP,{item:!0,xs:2,display:"flex",justifyContent:"flex-end",children:(0,f.jsx)(y.Z,{noWrap:!0,color:n,sx:{fontSize:{sm:15,xs:13}},children:d})})]})})},g=()=>{const{t:e}=(0,c.$G)(),l=(0,n.s0)(),t=(0,x.TL)(),{invoices:v,status:y}=(0,x.CG)(u.xF),p=e=>{let{id:t,name:s}=e;l("".concat(r.Z6.invoices.path,"/view/").concat(s),{state:{id:t}})};s.useEffect((()=>{"idle"===y&&t((0,u.sA)())}),[t,y]);return(0,f.jsxs)(a.Z,{flexGrow:1,children:[(0,f.jsx)(h.Z,{text:e("INVOICES.PAGE_TITLE")}),(0,f.jsxs)(o.ZP,{container:!0,rowGap:2,sx:{marginTop:4},children:["loading"===y?(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(j.Z,{type:"list"})}):"failed"!==y&&"succeeded"!==y||null!==v&&void 0!==v&&v.length?(0,f.jsx)(f.Fragment,{children:v.map((e=>(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(E,{data:e,onClick:p})},e.id)))}):(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(C.Z,{text:e("INVOICES.EMPTY_TEXT")})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,f.jsx)(d.Z,{color:"primary",onClick:()=>{l("".concat(r.Z6.invoices.path,"/new"))},sx:{alignSelf:"flex-end"},children:(0,f.jsx)(m.Z,{name:i.Tu.plus,sx:{fontSize:40}})})})]})]})};var b=t(8870),Z=t(5715),O=t(7034),I=t(9525),N=t(8126);N.Zx.register({family:"SourceSansPro",fonts:[{src:"https://fonts.gstatic.com/s/sourcesanspro/v14/6xK3dSBYKcSV-LCoeQqfX1RYOo3aPw.ttf",fontWeight:400},{src:"https://fonts.gstatic.com/s/sourcesanspro/v14/6xKydSBYKcSV-LCoeQqfX1RYOo3i54rAkA.ttf",fontWeight:700}]});const S=N.mM.create({page:{backgroundColor:"#E4E4E4",fontFamily:"SourceSansPro",padding:20,borderWidth:0},name:{fontSize:15,fontWeight:"bold",textAlign:"center"},heading:{display:"flex",flexDirection:"row",alignItems:"center"},label:{fontSize:12,fontWeight:"bold",marginRight:10},value:{fontSize:12},account:{fontSize:12,marginTop:30},sellerBuyer:{display:"flex",flexDirection:"row",alignItems:"flex-start",marginTop:40},seller:{flex:50},buyer:{flex:50},table:{display:"flex",flexDirection:"column",marginTop:40,border:"1px solid #000"},headerRow:{display:"flex",flexDirection:"row",alignItems:"flex-end",backgroundColor:"#959ba1"},bodyRow:{display:"flex",flexDirection:"row",alignItems:"center"},tableCol:{borderRight:"1px solid #000",height:"100%",justifyContent:"center"},noCol:{width:"5%"},nameCol:{width:"22%"},unitCol:{width:"5%"},quantityCol:{width:"5%"},unitNetPriceCol:{width:"12%"},netValueCol:{width:"12%"},vatRateCol:{width:"6%"},vatAmountCol:{width:"12%"},grossValueCol:{width:"12%"},currencyCol:{width:"9%"},tableCell:{fontSize:11,margin:4},total:{marginTop:20,fontSize:13,fontWeight:"bold",textAlign:"right"},vatExemption:{marginTop:20,fontSize:11},noBorder:{border:"none"}}),T=(e,l)=>(0,f.jsx)(N.xv,{style:S.tableCell,hyphenationCallback:e=>((e,l)=>{const t=Math.ceil(e.length/l),s=new Array(t);for(let n=0,r=0;n<t;++n,r+=l)s[n]=e.substring(r,r+l);return s})(e,l),children:e}),A=e=>{var l,t,s,n,r,i;let{data:a,saleDate:o}=e;const{t:d}=(0,c.$G)();return(0,f.jsx)(N.BB,{children:(0,f.jsxs)(N.T3,{size:"A4",style:S.page,children:[(0,f.jsx)(N.G7,{children:(0,f.jsx)(N.xv,{style:S.name,children:a.name})}),(0,f.jsxs)(N.G7,{style:S.heading,children:[(0,f.jsxs)(N.xv,{style:S.label,children:[d("INVOICES.DOCUMENT.INVOICE_NO"),"."]}),(0,f.jsx)(N.xv,{style:S.value,children:(0,Z.D9)()})]}),(0,f.jsxs)(N.G7,{style:S.heading,children:[(0,f.jsxs)(N.xv,{style:S.label,children:[d("INVOICES.DOCUMENT.ISSUE_DATE"),":"]}),(0,f.jsx)(N.xv,{style:S.value,children:(0,Z.Ux)()})]}),(0,f.jsxs)(N.G7,{style:S.heading,children:[(0,f.jsxs)(N.xv,{style:S.label,children:[d("INVOICES.DOCUMENT.SALE_DATE"),":"]}),(0,f.jsx)(N.xv,{style:S.value,children:o})]}),(0,f.jsxs)(N.G7,{style:S.heading,children:[(0,f.jsxs)(N.xv,{style:S.label,children:[d("INVOICES.DOCUMENT.DUE_DATE"),":"]}),(0,f.jsx)(N.xv,{style:S.value,children:(0,Z.FW)(14)})]}),(0,f.jsxs)(N.G7,{style:S.heading,children:[(0,f.jsxs)(N.xv,{style:S.label,children:[d("INVOICES.DOCUMENT.PAYMENT_TYPE"),":"]}),(0,f.jsx)(N.xv,{style:S.value,children:d("INVOICES.DOCUMENT.TRANSFER")})]}),(0,f.jsxs)(N.G7,{style:S.sellerBuyer,children:[(0,f.jsxs)(N.G7,{style:S.seller,children:[(0,f.jsxs)(N.xv,{style:S.label,children:[d("INVOICES.DOCUMENT.SELLER"),":"]}),(0,f.jsxs)(N.G7,{children:[(0,f.jsx)(N.xv,{style:S.value,children:a.sellerName}),(0,f.jsx)(N.xv,{style:S.value,children:a.sellerAddress}),(0,f.jsx)(N.xv,{style:S.value,children:a.sellerLocation}),(0,f.jsxs)(N.xv,{style:S.value,children:[d("COMMON.VAT_ID")," ",a.sellerVatID]}),(0,f.jsx)(N.xv,{style:S.account,children:a.sellerAccount})]})]}),(0,f.jsxs)(N.G7,{style:S.buyer,children:[(0,f.jsxs)(N.xv,{style:S.label,children:[d("INVOICES.DOCUMENT.BUYER"),":"]}),(0,f.jsxs)(N.G7,{children:[(0,f.jsx)(N.xv,{style:S.value,children:a.buyerName}),(0,f.jsx)(N.xv,{style:S.value,children:a.buyerAddress}),(0,f.jsx)(N.xv,{style:S.value,children:a.buyerLocation}),(0,f.jsx)(N.xv,{style:S.value,children:a.buyerVatID})]})]})]}),(0,f.jsxs)(N.G7,{style:S.table,children:[(0,f.jsxs)(N.G7,{style:S.headerRow,children:[(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.noCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:d("INVOICES.DOCUMENT.TABLE.NO")})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.nameCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:d("INVOICES.DOCUMENT.TABLE.NAME")})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.unitCol},children:T(d("INVOICES.DOCUMENT.TABLE.UNIT"),3)}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.quantityCol},children:T(d("INVOICES.DOCUMENT.TABLE.QUANTITY"),3)}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.unitNetPriceCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:d("INVOICES.DOCUMENT.TABLE.UNIT_NET_PRICE")})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.netValueCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:d("INVOICES.DOCUMENT.TABLE.NET_VALUE")})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.vatRateCol},children:T(d("INVOICES.DOCUMENT.TABLE.VAT_RATE"),3)}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.vatAmountCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:d("INVOICES.DOCUMENT.TABLE.VAT_AMOUNT")})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.grossValueCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:d("INVOICES.DOCUMENT.TABLE.GROSS_VALUE")})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.noBorder,...S.currencyCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:d("INVOICES.DOCUMENT.TABLE.CURRENCY")})})]}),(0,f.jsxs)(N.G7,{style:S.bodyRow,children:[(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.noCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:"1"})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.nameCol},children:T("".concat(d("INVOICES.DOCUMENT.TABLE.PROGRAMMING_SERVICES")," ").concat((0,Z.VY)()),20)}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.unitCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:"\u2014"})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.quantityCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:"1"})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.unitNetPriceCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:null===(l=a.amount)||void 0===l?void 0:l.net})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.netValueCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:null===(t=a.amount)||void 0===t?void 0:t.net})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.vatRateCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:a.vatIncluded?"".concat(null===(s=a.amount)||void 0===s?void 0:s.vatRate,"%"):"\u2014"})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.vatAmountCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:a.vatIncluded?null===(n=a.amount)||void 0===n?void 0:n.vatAmount:"\u2014"})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.grossValueCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:null===(r=a.amount)||void 0===r?void 0:r.gross})}),(0,f.jsx)(N.G7,{style:{...S.tableCol,...S.noBorder,...S.currencyCol},children:(0,f.jsx)(N.xv,{style:S.tableCell,children:"PLN"})})]})]}),(0,f.jsx)(N.G7,{style:S.total,children:(0,f.jsxs)(N.xv,{children:[d("INVOICES.DOCUMENT.TABLE.TOTAL"),": ",null===(i=a.amount)||void 0===i?void 0:i.gross," PLN"]})}),!a.vatIncluded&&(0,f.jsx)(N.G7,{style:S.vatExemption,children:(0,f.jsx)(N.xv,{children:d("INVOICES.DOCUMENT.TABLE.VAT_EXEMPTION")})})]})})};var M=t(1134),P=t(5022),G=t(7497),B=t(1890),V=t(9078),w=t(1634),D=t(9955),L=t(7071),W=t(5523);const U=e=>{let{name:l,label:t,rules:s={},onSwitchChange:n,...r}=e;const{control:i,formState:{errors:a}}=(0,M.Gc)();return(0,f.jsx)(M.Qr,{control:i,name:l,rules:s,render:e=>{let{field:s,fieldState:{error:i}}=e;return(0,f.jsxs)(b.Z,{position:"relative",children:[(0,f.jsx)(W.Z,{control:(0,f.jsx)(D.Z,{...r,...s,value:s.value,checked:s.value,onChange:e=>{s.onChange(e),(e=>{n&&n(e.target.checked)})(e)}}),label:(0,f.jsx)(y.Z,{children:t}),labelPlacement:"start",sx:{"&.MuiFormControlLabel-root":{margin:0}}}),a[l]&&(0,f.jsx)(L.Z,{sx:{position:"absolute"},error:!0,children:null===i||void 0===i?void 0:i.message})]})}})},R=e=>{let{data:l,loading:t,mode:n,onPreview:a,onSubmit:d}=e;const{t:h}=(0,c.$G)(),m=(0,Z.w8)(),{defaultCurrency:{iso:j}}=(0,x.CG)(u.vi),C=r.a,p=r.Mf,E=r.Mf.some((e=>e.iso===j))?j:"USD",[g,b]=s.useState(!1),O=n===i.df.view,I={name:"",salary:"",currencyIso:n===i.df.create?E:l.currencyIso||"",vatIncluded:!1,sellerName:"",sellerAddress:"",sellerLocation:"",sellerVatID:"",sellerAccount:"",buyerName:"",buyerAddress:"",buyerLocation:"",buyerVatID:""},N=(0,M.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:I}),{setValue:S,handleSubmit:T}=N;s.useEffect((()=>{Object.keys(l).forEach((e=>{S(e,l[e])})),b(!!l.vatIncluded)}),[l,S,E]);const A=e=>{d(e)};return(0,f.jsx)(M.RV,{...N,children:(0,f.jsx)("form",{onSubmit:T(A),children:(0,f.jsxs)(o.ZP,{container:!0,gap:3,children:[(0,f.jsx)(o.ZP,{item:!0,container:!0,children:(0,f.jsxs)(v.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:6,width:"100%"},children:[(0,f.jsx)(y.Z,{sx:{marginTop:2,marginBottom:4},fontSize:17,children:h("INVOICES.MAIN_INFO")}),(0,f.jsxs)(o.ZP,{item:!0,container:!0,gap:7,children:[(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.NAME"),name:i.W4.name,rules:{required:{value:!0,message:h(m.name.required.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.SALARY"),type:"number",name:i.W4.salary,rules:{required:{value:!0,message:h(m.salary.required.message)},pattern:{value:C,message:h(m.salary.pattern.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(B.Z,{inputProps:{readOnly:O},label:h("COMMON.CURRENCY"),name:i.W4.currencyIso,rules:{required:{value:!0,message:h(m.currencyIso.required.message)}},children:p.map((e=>{let{iso:l,name:t,nameKey:s,symbol:n}=e;return(0,f.jsx)(P.Z,{value:l,children:(0,f.jsx)(V.Z,{currency:{iso:l,symbol:n,name:t,nameKey:s}})},l)}))})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(U,{name:i.W4.vatIncluded,label:h("INVOICES.INCLUDE_VAT"),checked:g,disabled:O,onSwitchChange:e=>{b(e),S(i.W4.vatIncluded,e)}})})]})]})}),(0,f.jsx)(o.ZP,{item:!0,container:!0,children:(0,f.jsxs)(v.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:7,width:"100%"},children:[(0,f.jsx)(y.Z,{sx:{marginTop:2,marginBottom:4},fontSize:17,children:h("INVOICES.SELLER_INFO")}),(0,f.jsxs)(o.ZP,{item:!0,container:!0,gap:7,children:[(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.NAME"),name:i.W4.sellerName,rules:{required:{value:!0,message:h(m.sellerName.required.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.ADDRESS"),name:i.W4.sellerAddress,rules:{required:{value:!0,message:h(m.sellerAddress.required.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.LOCATION"),name:i.W4.sellerLocation,rules:{required:{value:!0,message:h(m.sellerLocation.required.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.VAT_ID"),name:i.W4.sellerVatID,rules:{required:{value:!0,message:h(m.sellerVatID.required.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.ACCOUNT"),name:i.W4.sellerAccount,rules:{required:{value:!0,message:h(m.sellerAccount.required.message)}}})})]})]})}),(0,f.jsx)(o.ZP,{item:!0,container:!0,children:(0,f.jsxs)(v.Z,{elevation:1,sx:{paddingX:3,paddingTop:2,paddingBottom:7,width:"100%"},children:[(0,f.jsx)(y.Z,{sx:{marginTop:2,marginBottom:4},fontSize:17,children:h("INVOICES.BUYER_INFO")}),(0,f.jsxs)(o.ZP,{item:!0,container:!0,gap:7,children:[(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.NAME"),name:i.W4.buyerName,rules:{required:{value:!0,message:h(m.buyerName.required.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.ADDRESS"),name:i.W4.buyerAddress,rules:{required:{value:!0,message:h(m.buyerAddress.required.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.LOCATION"),name:i.W4.buyerLocation,rules:{required:{value:!0,message:h(m.buyerLocation.required.message)}}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(G.Z,{inputProps:{readOnly:O},label:h("COMMON.VAT_ID"),name:i.W4.buyerVatID,rules:{required:{value:!0,message:h(m.buyerVatID.required.message)}}})})]})]})}),!O&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(w.Z,{"aria-label":"Preview invoice",fullWidth:!0,type:"submit",variant:"contained",onClick:T((e=>{a(e)})),children:h("COMMON.PREVIEW")})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsx)(w.Z,{"aria-label":"Save invoice",fullWidth:!0,variant:"contained",loading:t,onClick:T(A),children:h("COMMON.SAVE")})})]})]})})})};var _,q=t(168);const k=(0,t(225).Z)(N.Z$)(_||(_=(0,q.Z)(["\n  min-height: calc(100vh - 30px);\n  width: 100%;\n"]))),z=e=>{let{mode:l}=e;const{t:t}=(0,c.$G)(),a=(0,n.s0)(),{getStatus:d,createEditStatus:m,deleteStatus:j}=(0,x.CG)(u.xF),{rates:C,date:v}=(0,x.CG)(u.Of),p=(0,x.CG)(u.vf),E=(0,x.CG)(u.Jl),g=(0,x.CG)(u.Qy),{status:N,userProfile:S}=(0,x.CG)(u.tM),T=(0,x.CG)(u.dy),M=(0,x.TL)(),{state:P}=(0,n.TH)(),G=null===P||void 0===P?void 0:P.id,B="loading"===m,V="loading"===j,w=l===i.df.edit,D=l===i.df.view,[L,W]=s.useState({}),[U,_]=s.useState(!1),[q,z]=s.useState(!1),[Y,F]=s.useState(!1),[K,Q]=s.useState(!1),X=(0,Z.pz)(l,t,d,"INVOICES","NEW_INVOICE","EMPTY_TITLE",E),$=e=>{var l;const{salary:t,vatIncluded:s,currencyIso:n}=e,r=null===(l=C.find((e=>e.code===n)))||void 0===l?void 0:l.rate;return(0,Z.fu)(r,Number(t),s)},H=s.useCallback((()=>{M((0,u.p3)())}),[M]),J=s.useCallback((()=>{a("".concat(r.Z6.invoices.path)),H()}),[a,H]);return s.useEffect((()=>{"succeeded"===m&&U&&(Q(!1),M((0,u.QJ)()),J()),"failed"===m&&U&&Q(!0)}),[M,J,m,U]),s.useEffect((()=>{W((e=>({...e,amount:p})))}),[p]),s.useEffect((()=>{if("idle"===N&&M((0,u.Ai)()),"succeeded"===N){const e=(0,Z.Aj)(T,S);W((l=>({...l,...e})))}}),[M,N,T,S]),s.useEffect((()=>{"succeeded"===j&&q&&J(),"failed"===j&&q&&(Q(!0),F(!1))}),[J,j,q]),s.useEffect((()=>{G&&"idle"===d&&(w||D)&&!q&&M((0,u.d5)(G))}),[G,w,D,d,M,q]),s.useEffect((()=>{E&&"succeeded"===d&&(w||D)&&W(E)}),[E,w,D,d,M]),(0,f.jsxs)(b.Z,{flexGrow:1,children:[(0,f.jsx)(h.Z,{withBackButton:!0,withEditButton:D&&!!E,withDeleteButton:w&&!!E,withCancelButton:!D&&!!E,text:X,onBackButtonClick:J,onEditButtonClick:()=>{w||a("".concat(r.Z6.invoices.path,"/edit/").concat(null===E||void 0===E?void 0:E.name),{state:{id:G}})},onDeleteButtonClick:()=>{F(!0)},onCancelButtonClick:()=>{w?a("".concat(r.Z6.invoices.path,"/view/").concat(null===E||void 0===E?void 0:E.name),{state:{id:G}}):a(r.Z6.invoices.path)}}),(0,f.jsxs)(o.ZP,{container:!0,columnSpacing:3,rowSpacing:5,children:[(0,f.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(R,{data:L,loading:B,mode:l,onPreview:e=>{const l=$(e);M((0,u.xT)(l)),W({...e,amount:l})},onSubmit:e=>{const l=$(e);M((0,u.xT)(l)),W({...e,amount:l}),_(!0),M(w?(0,u.$v)([G,{...e,amount:l}]):(0,u.Z$)({...e,amount:l}))}})}),(0,f.jsx)(o.ZP,{item:!0,xs:12,sm:6,children:(0,f.jsx)(k,{children:(0,f.jsx)(A,{data:L,saleDate:v})})})]}),(0,f.jsx)(O.Z,{type:"error",open:K,text:null!==g&&void 0!==g&&g.messageKey?t(g.messageKey):(null===g||void 0===g?void 0:g.message)||"",onClose:()=>{Q(!1),z(!1)}}),(0,f.jsx)(I.Z,{fullWidth:!0,maxWidth:"xs",title:t("INVOICES.DELETE_DIALOG_TITLE"),actionButtonText:t("COMMON.YES"),open:Y,loading:V,onClose:()=>{F(!1)},onAction:()=>{M((0,u.Wu)(G)),z(!0)},children:(0,f.jsx)(y.Z,{variant:"subtitle1",children:t("INVOICES.DELETE_DIALOG_CONFIRM")})})]})},Y=()=>(0,f.jsxs)(n.Z5,{children:[(0,f.jsx)(n.AW,{path:"/",element:(0,f.jsx)(g,{})}),(0,f.jsx)(n.AW,{path:"/new",element:(0,f.jsx)(z,{mode:i.df.create})}),(0,f.jsx)(n.AW,{path:"/view/:id",element:(0,f.jsx)(z,{mode:i.df.view})}),(0,f.jsx)(n.AW,{path:"/edit/:id",element:(0,f.jsx)(z,{mode:i.df.edit})}),(0,f.jsx)(n.AW,{path:"*",element:(0,f.jsx)(n.Fg,{to:r.Z6.invoices.path,replace:!0})})]})},7195:(e,l,t)=>{"use strict";t.d(l,{Z:()=>o});t(2791);var s=t(8870),n=t(3967),r=t(890),i=t(3394),a=t(184);const o=e=>{let{text:l,...t}=e;const{palette:{info:{contrastText:o}}}=(0,n.Z)(),{t:d}=(0,i.$G)(),c=l||d("COMMON.NO_DATA");return(0,a.jsx)(s.Z,{display:"flex",justifyContent:"center",...t,sx:{width:"100%",...t.sx},children:(0,a.jsx)(r.Z,{noWrap:!0,color:o,fontSize:{sm:18,xs:16},children:c})})}},7497:(e,l,t)=>{"use strict";t.d(l,{Z:()=>h});t(2791);var s,n=t(1134),r=t(7071),i=t(8870),a=t(3967),o=t(168),d=t(225),c=t(3006);const x=(0,d.Z)(c.Z)(s||(s=(0,o.Z)(["\n  &.MuiInputBase-input {\n    border-color: ",";\n    color: ",";\n  },\n  &.MuiOutlinedInput-root {\n    &.Mui-error {\n      & .MuiOutlinedInput-notchedOutline: {\n        border-color: ",",\n      }\n    }\n    border-color: ",";\n    color: ",";\n  }\n"])),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.error.main),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.error.main));var u=t(184);const h=e=>{let{name:l,rules:t={},...s}=e;const o=(0,a.Z)(),{control:d,formState:{errors:c}}=(0,n.Gc)();return(0,u.jsx)(n.Qr,{control:d,name:l,rules:t,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,u.jsxs)(i.Z,{position:"relative",children:[(0,u.jsx)(x,{fullWidth:!0,...t,...s,theme:o,error:!!c[l]}),c[l]&&(0,u.jsx)(r.Z,{sx:{position:"absolute"},error:!0,children:null===n||void 0===n?void 0:n.message})]})}})}},1890:(e,l,t)=>{"use strict";t.d(l,{Z:()=>d});t(2791);var s=t(1134),n=t(7198),r=t(7071),i=t(8870),a=t(4925),o=t(184);const d=e=>{let{name:l,label:t,rules:d={},children:c,...x}=e;const{control:u,formState:{errors:h}}=(0,s.Gc)();return(0,o.jsx)(s.Qr,{control:u,name:l,rules:d,render:e=>{let{field:s,fieldState:{error:d}}=e;return(0,o.jsxs)(i.Z,{position:"relative",children:[(0,o.jsx)(a.Z,{children:t}),(0,o.jsx)(n.Z,{fullWidth:!0,variant:"outlined",error:!!h[l],...s,...x,children:c}),h[l]&&(0,o.jsx)(r.Z,{sx:{position:"absolute"},error:!0,children:null===d||void 0===d?void 0:d.message})]})}})}},4372:(e,l,t)=>{"use strict";t.d(l,{Z:()=>i});t(2791);var s=t(7047),n=t(1889),r=t(184);const i=e=>{let{type:l,...t}=e;const i="form"===l,a=()=>{switch(l){case"list":default:return{firstBar:40,secondBar:40,thirdBar:40};case"form":return{firstBar:56,secondBar:56,thirdBar:56};case"summary":return{firstBar:30,secondBar:60,thirdBar:120};case"circular":return{firstBar:64,secondBar:64,thirdBar:64}}};return"circular"===l?(0,r.jsxs)(n.ZP,{container:!0,columnGap:4,rowGap:4,children:[(0,r.jsx)(n.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,r.jsx)(s.Z,{...t,variant:"circular",height:a().firstBar,width:a().firstBar})}),(0,r.jsx)(n.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,r.jsx)(s.Z,{...t,variant:"circular",height:a().secondBar,width:a().secondBar})}),(0,r.jsx)(n.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,r.jsx)(s.Z,{...t,variant:"circular",height:a().thirdBar,width:a().firstBar})})]}):(0,r.jsxs)(n.ZP,{container:!0,justifyContent:"center",rowGap:i?5:2,children:[(0,r.jsx)(n.ZP,{item:!0,xs:12,children:(0,r.jsx)(s.Z,{...t,variant:"rounded",height:a().firstBar})}),(0,r.jsx)(n.ZP,{item:!0,xs:12,children:(0,r.jsx)(s.Z,{...t,variant:"rounded",animation:"wave",height:a().secondBar})}),(0,r.jsx)(n.ZP,{item:!0,xs:12,children:(0,r.jsx)(s.Z,{...t,variant:"rounded",height:a().thirdBar})})]})}},7034:(e,l,t)=>{"use strict";t.d(l,{Z:()=>i});t(2791);var s=t(9658),n=t(3543),r=t(184);const i=e=>{let{open:l=!1,text:t,type:i,onClose:a,...o}=e;return(0,r.jsx)(n.Z,{open:l,autoHideDuration:5e3,onClose:()=>{a()},...o,children:(0,r.jsx)(s.Z,{severity:i,children:t})})}},2480:()=>{}}]);
//# sourceMappingURL=117.883df5a8.chunk.js.map