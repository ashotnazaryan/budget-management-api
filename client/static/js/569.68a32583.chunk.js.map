{"version":3,"file":"static/js/569.68a32583.chunk.js","mappings":"wSAgBAA,EAAAA,GAAQC,SAASC,EAAAA,GAAYC,EAAAA,EAASC,EAAAA,IAEtC,MAiFA,EAjF8BC,KAC5B,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,OACTC,QAAQ,QAAEC,EAAO,MAAEC,EAAK,MAAEC,GAAO,OAAEC,IAAWC,EAAAA,EAAAA,IAAeC,EAAAA,KAC7DC,SAAWC,MAAM,aAAEC,GAAc,MAAEC,KAAYC,EAAAA,EAAAA,KACjDC,EAAmBT,EAAQD,GAASA,EAAQQ,EAAMG,KAAOJ,EAEzDK,EAASb,EAAQc,KAAKf,IAAY,IAADgB,EACrC,MAAMC,GAA8D,QAAlDD,EAAAE,EAAAA,GAAOC,MAAKC,IAAA,IAAC,MAAEC,GAAOD,EAAA,OAAKC,IAAUrB,EAAOsB,KAAK,WAAC,IAAAN,OAAA,EAAlDA,EAAoDO,UAAW,GAEjF,OAAO3B,EAAEqB,EAAU,IAGfO,EAASvB,EAAQc,KAAIU,IAAA,IAAC,MAAEC,GAAOD,EAAA,OAAKC,CAAK,IACzCC,EAAqB,YAAXvB,EAEVwB,EAAgD,CACpDC,OAAQf,EACRgB,SAAU,CACR,CACEC,MAAOnC,EAAE,iBACTgC,KAAMJ,EACNQ,gBAAiBC,EAAAA,GACjBC,YAAa,KAKbC,EAAoC,CACxCC,YAAY,EACZC,YAAa,IACbC,MAAO7B,EACP8B,QAAS,CACPC,OAAQ,CACNC,SAAS,EACTC,SAAU,GACVb,OAAQ,CACNc,eAAe,MAoCvB,OANAC,EAAAA,WAAgB,KACC,SAAXxC,GACFN,GAAS+C,EAAAA,EAAAA,MACX,GACC,CAAC/C,EAAUM,KAGZ0C,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACN,QAAQ,OAAOO,cAAc,SAASC,SAAU,EAAEC,SAAA,EACrDC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAAC,cAAY,aAAaC,KAAMzD,EAAE,wBA/B1C+B,GACKwB,EAAAA,EAAAA,KAACG,EAAAA,EAAQ,CAACC,KAAK,SAGR,WAAXnD,GAAkC,cAAXA,GAAmC,OAAPH,QAAO,IAAPA,GAAAA,EAASuD,QAS/DV,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACN,QAAQ,OAAOO,cAAc,SAASS,eAAe,SAASC,MAAM,OAAMR,SAAA,EAC7EC,EAAAA,EAAAA,KAACQ,EAAAA,GAAQ,CAAC/B,KAAMA,EAAMO,QAASA,KAC/BW,EAAAA,EAAAA,MAACc,EAAAA,EAAU,CAACtB,MAAO1B,EAAkBiD,GAAI,CAAEC,UAAW,SAAUC,UAAW,GAAIb,SAAA,CAAEtD,EAAE,gBAAgB,KAAGO,KACrGD,IACC4C,EAAAA,EAAAA,MAACc,EAAAA,EAAU,CAACtB,MAAO7B,EAAcoD,GAAI,CAAEC,UAAW,SAAUC,UAAW,GAAIb,SAAA,CAAEtD,EAAE,gBAAgB,KAAGM,SAXpGiD,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,MAAI,EAACC,GAAI,GAAGhB,UAChBC,EAAAA,EAAAA,KAACgB,EAAAA,EAAU,CAACd,KAAMzD,EAAE,4BA0BpB,C,8FCrFV,MAmBA,EAnB8CwB,IAAyB,IAAxB,KAAEiC,KAASe,GAAOhD,EAC/D,MAAQb,SAAWC,MAAM,aAAEC,MAAqBE,EAAAA,EAAAA,MAC1C,EAAEf,IAAMC,EAAAA,EAAAA,MACRwE,EAAYhB,GAAQzD,EAAE,kBAE5B,OACEuD,EAAAA,EAAAA,KAACJ,EAAAA,EAAG,CACFN,QAAQ,OACRgB,eAAe,YACXW,EACJP,GAAI,CACFH,MAAO,UACJU,EAAMP,IACTX,UACFC,EAAAA,EAAAA,KAACS,EAAAA,EAAU,CAACU,QAAM,EAAChC,MAAO7B,EAAc8D,SAAU,CAAEC,GAAI,GAAIN,GAAI,IAAKhB,SAAEmB,KACnE,C,2ECjBV,MAoDA,EApD0CjD,IAAyB,IAAxB,KAAEmC,KAASa,GAAOhD,EAC3D,MACMqD,EAAkB,SAATlB,EAETmB,EAAUA,KACd,OAAQnB,GACR,IAAK,OAYL,QACE,MAAO,CAAEoB,SAAU,GAAIC,UAAW,GAAIC,SAAU,IAVlD,IAAK,OACH,MAAO,CAAEF,SAAU,GAAIC,UAAW,GAAIC,SAAU,IAElD,IAAK,UACH,MAAO,CAAEF,SAAU,GAAIC,UAAW,GAAIC,SAAU,KAElD,IAAK,WACH,MAAO,CAAEF,SAAU,GAAIC,UAAW,GAAIC,SAAU,IAIlD,EAGF,MAtB4B,aAATtB,GAwBfT,EAAAA,EAAAA,MAACkB,EAAAA,GAAI,CAACc,WAAS,EAACC,UAAW,EAAGC,OAAQ,EAAE9B,SAAA,EACtCC,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,MAAI,EAACP,MAAO,IAAKjB,QAAQ,OAAOgB,eAAe,SAAQP,UAC3DC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAW,IAAKb,EAAOc,QAAQ,WAAWC,OAAQT,IAAUC,SAAUjB,MAAOgB,IAAUC,cAE1FxB,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,MAAI,EAACP,MAAO,IAAKjB,QAAQ,OAAOgB,eAAe,SAAQP,UAC3DC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAW,IAAKb,EAAOc,QAAQ,WAAWC,OAAQT,IAAUE,UAAWlB,MAAOgB,IAAUE,eAE3FzB,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,MAAI,EAACP,MAAO,IAAKjB,QAAQ,OAAOgB,eAAe,SAAQP,UAC3DC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAW,IAAKb,EAAOc,QAAQ,WAAWC,OAAQT,IAAUG,SAAUnB,MAAOgB,IAAUC,iBAK5F7B,EAAAA,EAAAA,MAACkB,EAAAA,GAAI,CAACc,WAAS,EAACrB,eAAe,SAASuB,OAAQP,EAAS,EAAI,EAAEvB,SAAA,EAC7DC,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,MAAI,EAACC,GAAI,GAAGhB,UAChBC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAW,IAAKb,EAAOc,QAAQ,UAAUC,OAAQT,IAAUC,cAE9DxB,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,MAAI,EAACC,GAAI,GAAGhB,UAChBC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAW,IAAKb,EAAOc,QAAQ,UAAUE,UAAU,OAAOD,OAAQT,IAAUE,eAE/EzB,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,MAAI,EAACC,GAAI,GAAGhB,UAChBC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAW,IAAKb,EAAOc,QAAQ,UAAUC,OAAQT,IAAUG,eAGjE,C","sources":["modules/Reports.tsx","shared/components/EmptyState.tsx","shared/components/Skeleton.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Doughnut } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, ChartData } from 'chart.js';\nimport type { ChartOptions } from 'chart.js';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport { useTheme } from '@mui/material/styles';\nimport { useAppDispatch, useAppSelector } from 'store';\nimport { useTranslation } from 'core/i18n';\nimport { getReport, selectReport } from 'store/reducers';\nimport { CHART_COLOR_SCHEME, MONTHS, } from 'shared/constants';\nimport PageTitle from 'shared/components/PageTitle';\nimport Skeleton from 'shared/components/Skeleton';\nimport EmptyState from 'shared/components/EmptyState';\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst Reports: React.FC<{}> = () => {\n  const { t } = useTranslation();\n  const dispatch = useAppDispatch();\n  const { report: { reports, limit, total }, status } = useAppSelector(selectReport);\n  const { palette: { info: { contrastText }, error } } = useTheme();\n  const reportTotalColor = total > limit && limit ? error.main : contrastText;\n\n  const months = reports.map((report) => {\n    const monthName = MONTHS.find(({ index }) => index === report.month)?.nameKey || '';\n\n    return t(monthName);\n  });\n\n  const values = reports.map(({ value }) => value);\n  const loading = status === 'loading';\n\n  const data: ChartData<'doughnut', number[], string> = {\n    labels: months,\n    datasets: [\n      {\n        label: t('COMMON.AMOUNT') as string,\n        data: values,\n        backgroundColor: CHART_COLOR_SCHEME,\n        borderWidth: 1\n      },\n    ],\n  };\n\n  const options: ChartOptions<'doughnut'> = {\n    responsive: true,\n    aspectRatio: 1.7,\n    color: contrastText,\n    plugins: {\n      legend: {\n        display: true,\n        maxWidth: 50,\n        labels: {\n          usePointStyle: true\n        }\n      }\n    }\n  };\n\n  const renderContent = (): React.ReactElement => {\n    if (loading) {\n      return <Skeleton type='list' />;\n    }\n\n    if ((status === 'failed' || status === 'succeeded') && !reports?.length) {\n      return (\n        <Grid item xs={12}>\n          <EmptyState text={t('REPORTS.EMPTY_TEXT')} />\n        </Grid>\n      );\n    }\n\n    return (\n      <Box display='flex' flexDirection='column' justifyContent='center' width='100%'>\n        <Doughnut data={data} options={options} />\n        <Typography color={reportTotalColor} sx={{ textAlign: 'center', marginTop: 3 }}>{t('COMMON.TOTAL')}: {total}</Typography>\n        {limit && (\n          <Typography color={contrastText} sx={{ textAlign: 'center', marginTop: 3 }}>{t('COMMON.LIMIT')}: {limit}</Typography>\n        )}\n      </Box>\n    );\n  };\n\n  React.useEffect(() => {\n    if (status === 'idle') {\n      dispatch(getReport());\n    }\n  }, [dispatch, status]);\n\n  return (\n    <Box display='flex' flexDirection='column' flexGrow={1}>\n      <PageTitle data-testid='page-title' text={t('REPORTS.PAGE_TITLE')} />\n      {renderContent()}\n    </Box>\n  );\n};\n\nexport default Reports;\n","import * as React from 'react';\nimport Box, { BoxProps } from '@mui/material/Box';\nimport { useTheme } from '@mui/material/styles';\nimport Typography from '@mui/material/Typography';\nimport { useTranslation } from 'core/i18n';\n\ntype EmptyStateProps = {\n  text: string;\n} & BoxProps\n\nconst EmptyState: React.FC<EmptyStateProps> = ({ text, ...props }) => {\n  const { palette: { info: { contrastText } } } = useTheme();\n  const { t } = useTranslation();\n  const textValue = text || t('COMMON.NO_DATA');\n\n  return (\n    <Box\n      display='flex'\n      justifyContent='center'\n      {...props}\n      sx={{\n        width: '100%',\n        ...props.sx\n      }}>\n      <Typography noWrap color={contrastText} fontSize={{ sm: 18, xs: 16 }}>{textValue}</Typography>\n    </Box>\n  );\n};\n\nexport default EmptyState;\n","import * as React from 'react';\nimport MuiSkeleton, { SkeletonProps as MuiSkeletonProps } from '@mui/material/Skeleton';\nimport Grid from '@mui/material/Grid';\n\ntype SkeletonProps = {\n  type: 'list' | 'form' | 'summary' | 'circular'\n} & MuiSkeletonProps;\n\nconst Skeleton: React.FC<SkeletonProps> = ({ type, ...props }) => {\n  const isCircular = type === 'circular';\n  const isForm = type === 'form';\n\n  const getSize = () => {\n    switch (type) {\n    case 'list':\n      return { firstBar: 40, secondBar: 40, thirdBar: 40 };\n\n    case 'form':\n      return { firstBar: 56, secondBar: 56, thirdBar: 56 };\n\n    case 'summary':\n      return { firstBar: 30, secondBar: 60, thirdBar: 120 };\n\n    case 'circular':\n      return { firstBar: 64, secondBar: 64, thirdBar: 64 };\n\n    default:\n      return { firstBar: 40, secondBar: 40, thirdBar: 40 };\n    }\n  };\n\n  return isCircular\n    ? (\n      <Grid container columnGap={4} rowGap={4}>\n        <Grid item width={100} display='flex' justifyContent='center'>\n          <MuiSkeleton {...props} variant='circular' height={getSize().firstBar} width={getSize().firstBar} />\n        </Grid>\n        <Grid item width={100} display='flex' justifyContent='center'>\n          <MuiSkeleton {...props} variant='circular' height={getSize().secondBar} width={getSize().secondBar} />\n        </Grid>\n        <Grid item width={100} display='flex' justifyContent='center'>\n          <MuiSkeleton {...props} variant='circular' height={getSize().thirdBar} width={getSize().firstBar} />\n        </Grid>\n      </Grid>\n    )\n    : (\n      <Grid container justifyContent='center' rowGap={isForm ? 5 : 2}>\n        <Grid item xs={12}>\n          <MuiSkeleton {...props} variant='rounded' height={getSize().firstBar} />\n        </Grid>\n        <Grid item xs={12}>\n          <MuiSkeleton {...props} variant='rounded' animation='wave' height={getSize().secondBar} />\n        </Grid>\n        <Grid item xs={12}>\n          <MuiSkeleton {...props} variant='rounded' height={getSize().thirdBar} />\n        </Grid>\n      </Grid>\n    );\n};\n\nexport default Skeleton;\n"],"names":["ChartJS","register","ArcElement","Tooltip","Legend","Reports","t","useTranslation","dispatch","useAppDispatch","report","reports","limit","total","status","useAppSelector","selectReport","palette","info","contrastText","error","useTheme","reportTotalColor","main","months","map","_MONTHS$find","monthName","MONTHS","find","_ref","index","month","nameKey","values","_ref2","value","loading","data","labels","datasets","label","backgroundColor","CHART_COLOR_SCHEME","borderWidth","options","responsive","aspectRatio","color","plugins","legend","display","maxWidth","usePointStyle","React","getReport","_jsxs","Box","flexDirection","flexGrow","children","_jsx","PageTitle","text","Skeleton","type","length","justifyContent","width","Doughnut","Typography","sx","textAlign","marginTop","Grid","item","xs","EmptyState","props","textValue","noWrap","fontSize","sm","isForm","getSize","firstBar","secondBar","thirdBar","container","columnGap","rowGap","MuiSkeleton","variant","height","animation"],"sourceRoot":""}