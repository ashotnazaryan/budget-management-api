"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[387],{2387:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(2791),i=n(7689),o=n(5980),a=n(2385),c=n(1413),s=n(9439),u=n(1134),l=n(6606),d=n(4102),f=n(8870),x=n(1889),m=n(890),Z=n(5022),h=n(8112),j=n(7931),p=n(7233),v=n(5900),C=n(1634),A=n(1890),g=n(7497),T=n(645),E=n(7034),S=n(9525),y=n(4372),B=n(7195),w=n(7559),b=n(184),N=function(e){var t=e.mode,n=o.a,N=(0,i.s0)(),P=(0,h.TL)(),O=(0,h.CG)(j.Nu),R=O.status,G=O.currentStatus,k=O.deleteStatus,M=(0,h.CG)(j.xm),W=(0,h.CG)(j.rD),_=(0,h.CG)(j.bk).accounts,D=(0,h.CG)(j.en),F=(0,p._N)(),I=(0,d.$G)().t,V=r.useState(!1),L=(0,s.Z)(V,2),q=L[0],U=L[1],H=r.useState(!1),K=(0,s.Z)(H,2),Q=K[0],X=K[1],Y=r.useState(!1),$=(0,s.Z)(Y,2),z=$[0],J=$[1],ee=r.useState(!1),te=(0,s.Z)(ee,2),ne=te[0],re=te[1],ie="loading"===R,oe="loading"===k,ae=t===a.df.create,ce=t===a.df.edit,se=t===a.df.view,ue=(0,i.UO)().id,le={fromAccount:{},toAccount:{},amount:"",createdAt:ae?(0,l.Z)().format():void 0},de=(0,u.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:le}),fe=de.handleSubmit,xe=de.setValue,me=de.watch,Ze=de.reset,he=me(a.Cd.fromAccount),je=me(a.Cd.toAccount),pe=me(a.Cd.createdAt),ve=function(e){var t=_.find((function(t){return t.id===e.target.value}));xe(a.Cd.fromAccount,t,{shouldValidate:!0})},Ce=function(e){var t=_.find((function(t){return t.id===e.target.value}));xe(a.Cd.toAccount,t,{shouldValidate:!0})},Ae=function(e){xe(a.Cd.createdAt,e.format(),{shouldValidate:!0})},ge=function(e){var t=(0,c.Z)((0,c.Z)({},e),{},{amount:Number(e.amount),fromAccount:e.fromAccount.id,toAccount:e.toAccount.id,createdAt:(0,l.Z)(e.createdAt).toDate()});P(ce?(0,j.aT)([ue,t]):(0,j.LH)(t)),U(!0)},Te=r.useCallback((function(){W&&(xe(a.Cd.fromAccount,W.fromAccount),xe(a.Cd.toAccount,W.toAccount),xe(a.Cd.amount,(0,p.Co)(W.amount)),xe(a.Cd.createdAt,W.createdAt))}),[W,xe]),Ee=r.useCallback((function(){P((0,j.WH)())}),[P]),Se=r.useCallback((function(){N(ae?o.Z6.accounts.path:o.Z6.transfers.path),Ee()}),[N,ae,Ee]);r.useEffect((function(){"idle"===D&&P((0,j.T8)())}),[P,D]),r.useEffect((function(){"succeeded"===R&&q&&(P((0,j.T8)()),Se(),X(!1)),"failed"===R&&q&&X(!0)}),[P,Se,R,q]),r.useEffect((function(){"succeeded"===k&&z&&Se(),"failed"===k&&z&&(X(!0),re(!1))}),[Se,k,z]),r.useEffect((function(){!ue||"idle"!==G||ae||z||P((0,j.x9)(ue))}),[ue,ae,G,P,z]),r.useEffect((function(){Te()}),[Te]),r.useEffect((function(){return function(){Ee()}}),[Ee]);return(0,b.jsxs)(f.Z,{component:"form",display:"flex",flexDirection:"column",flexGrow:1,onSubmit:fe(ge),children:[(0,b.jsx)(v.Z,{withBackButton:!0,withEditButton:se,withDeleteButton:ce,withCancelButton:!se,text:I(ce?"TRANSFERS.EDIT_TRANSFER":se?"TRANSFERS.VIEW_TRANSFER":"TRANSFERS.NEW_TRANSFER"),onBackButtonClick:Se,onEditButtonClick:function(){ce||N("".concat(o.Z6.transfers.path,"/edit/").concat(ue))},onDeleteButtonClick:function(){re(!0)},onCancelButtonClick:function(){ae?Ze(le):Te(),N(ae?o.Z6.accounts.path:"".concat(o.Z6.transfers.path,"/view/").concat(ue))}}),(0,b.jsx)(f.Z,{flexGrow:1,children:"loading"===G?(0,b.jsx)(y.Z,{type:"form"}):ae||W&&ue?(0,b.jsx)(u.RV,(0,c.Z)((0,c.Z)({},de),{},{children:(0,b.jsxs)(x.ZP,{container:!0,rowGap:6,columnSpacing:2,children:[(0,b.jsx)(x.ZP,{item:!0,sm:6,xs:12,children:(0,b.jsx)(A.Z,{disabled:!ae,label:I("ACCOUNTS.FROM_ACCOUNT"),name:a.Cd.fromAccount,value:he.id||"",onChange:ve,rules:{required:{value:!0,message:I(F.fromAccount.required.message)}},renderValue:function(e){return(0,b.jsx)(m.Z,{children:(0,p.ut)(e,_,I)})},children:_.map((function(e){return(0,b.jsx)(Z.Z,{value:e.id,sx:{display:"flex",justifyContent:"space-between"},children:(0,b.jsx)(w.Z,{data:e})},e.id)}))})}),(0,b.jsx)(x.ZP,{item:!0,sm:6,xs:12,children:(0,b.jsx)(A.Z,{disabled:!ae,label:I("ACCOUNTS.TO_ACCOUNT"),name:a.Cd.toAccount,value:je.id||"",onChange:Ce,rules:{required:{value:!0,message:I(F.toAccount.required.message)}},renderValue:function(e){return(0,b.jsx)(m.Z,{children:(0,p.ut)(e,_,I)})},children:_.map((function(e){return(0,b.jsx)(Z.Z,{value:e.id,sx:{display:"flex",justifyContent:"space-between"},children:(0,b.jsx)(w.Z,{data:e})},e.id)}))})}),(0,b.jsx)(x.ZP,{item:!0,xs:12,children:(0,b.jsx)(g.Z,{InputProps:{readOnly:se},label:I("COMMON.AMOUNT"),type:"number",name:a.Cd.amount,rules:{required:{value:!0,message:I(F.amount.required.message)},pattern:{value:n,message:I(F.amount.pattern.message)}}})}),(0,b.jsx)(x.ZP,{item:!0,xs:12,children:(0,b.jsx)(T.Z,{readOnly:se,name:a.Cd.createdAt,label:I("COMMON.DATE"),value:(0,l.Z)(pe).isValid()?(0,l.Z)(pe):null,maxDate:(0,l.Z)(),rules:{required:!0,validate:{maxDate:function(e){return Promise.resolve((0,l.Z)(e)<=(0,l.Z)()||I(F.createdAt.max.message))}}},onChange:Ae,sx:{width:"100%"}})})]})})):(0,b.jsx)(B.Z,{text:I("TRANSFERS.EMPTY_TEXT_RENDER_CONTENT")})}),!se&&(0,b.jsx)(x.ZP,{container:!0,display:"flex",justifyContent:"flex-end",rowGap:2,columnGap:2,sx:{marginTop:4},children:(0,b.jsx)(x.ZP,{item:!0,sm:"auto",xs:12,children:(0,b.jsx)(C.Z,{"aria-label":"Save transfer",fullWidth:!0,type:"submit",variant:"contained",loading:ie,onClick:fe(ge),children:I("COMMON.SAVE")})})}),(0,b.jsx)(E.Z,{type:"error",open:Q,text:null!==M&&void 0!==M&&M.messageKey?I(M.messageKey):(null===M||void 0===M?void 0:M.message)||"",onClose:function(){X(!1),J(!1)}}),(0,b.jsx)(S.Z,{fullWidth:!0,maxWidth:"xs",title:I("TRANSFERS.DELETE_DIALOG_TITLE"),actionButtonText:I("COMMON.YES"),open:ne,loading:oe,onClose:function(){re(!1)},onAction:function(){P((0,j.Wr)(ue)),J(!0)},children:(0,b.jsx)(m.Z,{variant:"subtitle1",children:I("TRANSFERS.DELETE_DIALOG_CONFIRM")})})]})},P=n(9276),O=n(5527),R=n(3967),G=function(e){var t=e.data,n=e.onClick,r=(0,R.Z)().palette.primary,i=r.main,a=r.contrastText,c=t.fromAccount,s=t.toAccount,u=t.createdAt,d=t.amount,f=(0,l.Z)(u).format(o.zT);return(0,b.jsx)(O.Z,{elevation:1,sx:{paddingX:2,backgroundColor:i},onClick:function(){n&&n(t)},children:(0,b.jsxs)(x.ZP,{container:!0,columnSpacing:2,alignItems:"center",sx:{minHeight:40,cursor:"pointer"},children:[(0,b.jsx)(x.ZP,{item:!0,xs:3,children:(0,b.jsx)(m.Z,{noWrap:!0,color:a,children:c.name})}),(0,b.jsx)(x.ZP,{item:!0,xs:3,children:(0,b.jsx)(m.Z,{noWrap:!0,color:a,children:s.name})}),(0,b.jsx)(x.ZP,{item:!0,xs:3,children:(0,b.jsx)(m.Z,{noWrap:!0,color:a,children:d})}),(0,b.jsx)(x.ZP,{item:!0,xs:3,display:"flex",justifyContent:"flex-end",children:(0,b.jsx)(m.Z,{noWrap:!0,color:a,children:f})})]})})},k=function(){var e=(0,h.TL)(),t=(0,h.CG)(j.Nu),n=t.transfers,a=t.status,s=(0,i.s0)(),u=(0,d.$G)().t,l=function(e){var t=e.id;s("".concat(o.Z6.transfers.path,"/view/").concat(t),{state:{id:t}})};r.useEffect((function(){"idle"===a&&e((0,j.qE)())}),[e,a]);return(0,b.jsxs)(P.Z,{flexGrow:1,children:[(0,b.jsx)(v.Z,{withBackButton:!0,text:u("TRANSFERS.PAGE_TITLE"),onBackButtonClick:function(){s("".concat(o.Z6.accounts.path))}}),(0,b.jsx)(x.ZP,{container:!0,rowGap:2,children:"loading"===a?(0,b.jsx)(x.ZP,{item:!0,xs:12,children:(0,b.jsx)(y.Z,{type:"list"})}):"failed"!==a&&"succeeded"!==a||null!==n&&void 0!==n&&n.length?(0,b.jsx)(b.Fragment,{children:n.map((function(e){return(0,b.jsx)(x.ZP,{item:!0,xs:12,children:(0,b.jsx)(G,{data:(t=e,(0,c.Z)((0,c.Z)({},t),{},{fromAccount:(0,c.Z)((0,c.Z)({},t.fromAccount),{},{name:t.fromAccount.nameKey?u(t.fromAccount.nameKey):t.fromAccount.name})})),onClick:l})},e.id);var t}))}):(0,b.jsx)(x.ZP,{item:!0,xs:12,children:(0,b.jsx)(B.Z,{text:u("TRANSFERS.EMPTY_TEXT")})})})]})},M=function(){return(0,b.jsxs)(i.Z5,{children:[(0,b.jsx)(i.AW,{path:"/",element:(0,b.jsx)(k,{})}),(0,b.jsx)(i.AW,{path:"/new",element:(0,b.jsx)(N,{mode:a.df.create})}),(0,b.jsx)(i.AW,{path:"/view/:id",element:(0,b.jsx)(N,{mode:a.df.view})}),(0,b.jsx)(i.AW,{path:"/edit/:id",element:(0,b.jsx)(N,{mode:a.df.edit})}),(0,b.jsx)(i.AW,{path:"*",element:(0,b.jsx)(i.Fg,{to:o.Z6.transfers.path,replace:!0})})]})}},7195:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(8870)),a=n(3967),c=n(890),s=n(4102),u=n(184),l=["text"];t.Z=function(e){var t=e.text,n=(0,i.Z)(e,l),d=(0,a.Z)().palette.info.contrastText,f=(0,s.$G)().t,x=t||f("COMMON.NO_DATA");return(0,u.jsx)(o.Z,(0,r.Z)((0,r.Z)({display:"flex",justifyContent:"center"},n),{},{sx:(0,r.Z)({width:"100%"},n.sx),children:(0,u.jsx)(c.Z,{noWrap:!0,color:d,fontSize:{sm:18,xs:16},children:x})}))}},645:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(1134)),a=n(8870),c=n(4925),s=n(7071),u=n(9617),l=n(1652),d=n(7792),f=n(5866),x=n(184),m=["name","label","rules"];t.Z=function(e){var t=e.name,n=e.label,Z=e.rules,h=void 0===Z?{}:Z,j=(0,i.Z)(e,m),p=(0,o.Gc)(),v=p.control,C=p.formState.errors;return(0,x.jsx)(l._,{dateAdapter:d.y,children:(0,x.jsx)(f.C,{sx:{paddingTop:2,overflow:"initial"},components:["DatePicker"],children:(0,x.jsx)(o.Qr,{control:v,name:t,rules:h,render:function(e){var i=e.field,o=e.fieldState.error;return(0,x.jsxs)(a.Z,{position:"relative",children:[(0,x.jsx)(c.Z,{children:n}),(0,x.jsx)(u.M,(0,r.Z)((0,r.Z)({},i),j)),C[t]&&(0,x.jsx)(s.Z,{sx:{position:"absolute"},error:!0,children:null===o||void 0===o?void 0:o.message})]})}})})})}},7497:function(e,t,n){n.d(t,{Z:function(){return h}});var r,i=n(1413),o=n(5987),a=(n(2791),n(1134)),c=n(7071),s=n(8870),u=n(3967),l=n(168),d=n(225),f=n(3006),x=(0,d.Z)(f.Z)(r||(r=(0,l.Z)(["\n  &.MuiInputBase-input {\n    border-color: ",";\n    color: ",";\n  },\n  &.MuiOutlinedInput-root {\n    &.Mui-error {\n      & .MuiOutlinedInput-notchedOutline: {\n        border-color: ",",\n      }\n    }\n    border-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.error.main}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.error.main})),m=n(184),Z=["name","rules"],h=function(e){var t=e.name,n=e.rules,r=void 0===n?{}:n,l=(0,o.Z)(e,Z),d=(0,u.Z)(),f=(0,a.Gc)(),h=f.control,j=f.formState.errors;return(0,m.jsx)(a.Qr,{control:h,name:t,rules:r,render:function(e){var n=e.field,r=e.fieldState.error;return(0,m.jsxs)(s.Z,{position:"relative",children:[(0,m.jsx)(x,(0,i.Z)((0,i.Z)((0,i.Z)({fullWidth:!0},n),l),{},{theme:d,error:!!j[t]})),j[t]&&(0,m.jsx)(c.Z,{sx:{position:"absolute"},error:!0,children:null===r||void 0===r?void 0:r.message})]})}})}},1890:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(1134)),a=n(7198),c=n(7071),s=n(8870),u=n(4925),l=n(184),d=["name","label","rules","children"];t.Z=function(e){var t=e.name,n=e.label,f=e.rules,x=void 0===f?{}:f,m=e.children,Z=(0,i.Z)(e,d),h=(0,o.Gc)(),j=h.control,p=h.formState.errors;return(0,l.jsx)(o.Qr,{control:j,name:t,rules:x,render:function(e){var i=e.field,o=e.fieldState.error;return(0,l.jsxs)(s.Z,{position:"relative",children:[(0,l.jsx)(u.Z,{children:n}),(0,l.jsx)(a.Z,(0,r.Z)((0,r.Z)((0,r.Z)({fullWidth:!0,variant:"outlined",error:!!p[t]},i),Z),{},{children:m})),p[t]&&(0,l.jsx)(c.Z,{sx:{position:"absolute"},error:!0,children:null===o||void 0===o?void 0:o.message})]})}})}},4372:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(7047)),a=n(1889),c=n(184),s=["type"];t.Z=function(e){var t=e.type,n=(0,i.Z)(e,s),u="form"===t,l=function(){switch(t){case"list":default:return{firstBar:40,secondBar:40,thirdBar:40};case"form":return{firstBar:56,secondBar:56,thirdBar:56};case"summary":return{firstBar:30,secondBar:60,thirdBar:120};case"circular":return{firstBar:64,secondBar:64,thirdBar:64}}};return"circular"===t?(0,c.jsxs)(a.ZP,{container:!0,columnGap:4,rowGap:4,children:[(0,c.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"circular",height:l().firstBar,width:l().firstBar}))}),(0,c.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"circular",height:l().secondBar,width:l().secondBar}))}),(0,c.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"circular",height:l().thirdBar,width:l().firstBar}))})]}):(0,c.jsxs)(a.ZP,{container:!0,justifyContent:"center",rowGap:u?5:2,children:[(0,c.jsx)(a.ZP,{item:!0,xs:12,children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"rounded",height:l().firstBar}))}),(0,c.jsx)(a.ZP,{item:!0,xs:12,children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"rounded",animation:"wave",height:l().secondBar}))}),(0,c.jsx)(a.ZP,{item:!0,xs:12,children:(0,c.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{variant:"rounded",height:l().thirdBar}))})]})}},7034:function(e,t,n){var r=n(1413),i=n(5987),o=(n(2791),n(9658)),a=n(3543),c=n(184),s=["open","text","type","onClose"];t.Z=function(e){var t=e.open,n=void 0!==t&&t,u=e.text,l=e.type,d=e.onClose,f=(0,i.Z)(e,s);return(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)({open:n,autoHideDuration:5e3,onClose:function(){d()}},f),{},{children:(0,c.jsx)(o.Z,{severity:l,children:u})}))}}}]);
//# sourceMappingURL=387.12acb19c.chunk.js.map