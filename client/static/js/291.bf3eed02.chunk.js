"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[291],{1291:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var i=t(2791),a=t(7689),o=t(5980),r=t(2385),c=t(1413),l=t(9439),s=t(9276),u=t(1889),d=t(4102),f=t(8112),x=t(7931),m=t(5814),Z=t(4372),h=t(5900),p=t(8692),j=t(7195),g=t(184),C=function(){var e=o.G7,n=(0,f.TL)(),t=(0,f.CG)(x.uY),C=t.categories,E=t.status,v=(0,a.s0)(),y=(0,d.$G)().t,T=i.useState(String(r.a9.expense)),G=(0,l.Z)(T,2),b=G[0],S=G[1],O={id:"",name:"New category",nameKey:"CATEGORIES.NEW_CATEGORY",icon:r.Tu.plus,type:Number(b)};i.useEffect((function(){"idle"===E&&n((0,x.CP)())}),[n,E]);var w=function(e){var n=e.id,t=e.name;v("".concat(o.Z6.categories.path,"/view/").concat(t),{state:{id:n}})},k=function(e){return(0,c.Z)((0,c.Z)({},e),{},{name:e.nameKey?y(e.nameKey):e.name})};return(0,g.jsxs)(s.Z,{flexGrow:1,children:[(0,g.jsx)(h.Z,{text:y("CATEGORIES.PAGE_TITLE")}),(0,g.jsx)(m.Z,{centered:!0,defaultValue:b,tabs:e,onChange:function(e,n){S(n)},sx:{marginBottom:3}}),(0,g.jsxs)(u.ZP,{container:!0,columnGap:4,rowGap:4,sx:{marginTop:4},children:["loading"===E?(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(Z.Z,{type:"circular"})}):"failed"!==E&&"succeeded"!==E||null!==C&&void 0!==C&&C.length?(0,g.jsx)(g.Fragment,{children:C.filter((function(e){var n=e.type;return String(n)===b})).map((function(e){return(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(p.Z,{data:k(e),onItemClick:w})},e.id)}))}):(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{text:y("CATEGORIES.EMPTY_TEXT")})}),(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(p.Z,{data:k(O),onItemClick:function(){v("".concat(o.Z6.categories.path,"/new"),{state:{categoryType:b}})}})})]})]})},E=t(1134),v=t(8870),y=t(890),T=t(7071),G=t(3967),b=t(7233),S=t(1634),O=t(7497),w=t(7034),k=t(2581),A=t(7730),I=t(9525),P=function(e){var n=e.mode,t=o.G7,s=o.Qr,m=(0,a.s0)(),p=(0,a.TH)().state,C=(0,f.TL)(),P=(0,f.CG)(x.uY),V=P.getStatus,M=P.createEditStatus,N=P.deleteStatus,R=(0,f.CG)(x.Qk),_=(0,f.CG)(x.$_),q=(0,G.Z)().palette.info.contrastText,B=(0,b.VU)(),Y=(0,d.$G)().t,D=i.useState(!1),W=(0,l.Z)(D,2),K=W[0],L=W[1],F=i.useState(!1),$=(0,l.Z)(F,2),z=$[0],Q=$[1],X=i.useState(!1),H=(0,l.Z)(X,2),U=H[0],J=H[1],ee=i.useState(!1),ne=(0,l.Z)(ee,2),te=ne[0],ie=ne[1],ae="loading"===M,oe="loading"===N,re=null===p||void 0===p?void 0:p.id,ce=null!==_&&void 0!==_&&_.nameKey?Y(_.nameKey):(null===_||void 0===_?void 0:_.name)||"",le=null===p||void 0===p?void 0:p.categoryType,se=n===r.df.create,ue=n===r.df.edit,de=n===r.df.view,fe=(0,b.pz)(n,Y,V,"CATEGORIES","NEW_CATEGORY","EMPTY_TITLE",_),xe={type:String(le),name:""},me=(0,E.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:xe}),Ze=me.setValue,he=me.handleSubmit,pe=me.control,je=me.watch,ge=me.reset,Ce=Number(je(r.Vq.type)),Ee=function(e){var n=e.id;de||Ze(r.Vq.icon,n,{shouldValidate:!0})},ve=function(e){var n=Number(e);Ze(r.Vq.type,n,{shouldValidate:!0})},ye=function(e){C(ue?(0,x.ht)([re,e]):(0,x.k4)(e)),L(!0)},Te=i.useCallback((function(){_&&(Ze(r.Vq.type,String(_.type)),Ze(r.Vq.name,_.nameKey?Y(_.nameKey):_.name),Ze(r.Vq.icon,_.icon))}),[_,Ze,Y]),Ge=i.useCallback((function(){C((0,x.ZX)())}),[C]),be=i.useCallback((function(){m("".concat(o.Z6.categories.path)),Ge()}),[m,Ge]);i.useEffect((function(){"succeeded"===M&&K&&(be(),J(!1)),"failed"===M&&K&&J(!0)}),[be,M,K]),i.useEffect((function(){"succeeded"===N&&z&&be(),"failed"===N&&z&&(J(!0),ie(!1))}),[be,N,z]),i.useEffect((function(){re&&"idle"===V&&(ue||de)&&!z&&C((0,x.n3)(re))}),[re,ue,de,V,C,z]),i.useEffect((function(){Te()}),[Te]),i.useEffect((function(){return function(){Ge()}}),[Ge]);return(0,g.jsxs)(v.Z,{component:"form",display:"flex",flexDirection:"column",flexGrow:1,onSubmit:he(ye),children:[(0,g.jsx)(h.Z,{withBackButton:!0,withEditButton:de&&!!_,withDeleteButton:ue&&!!_,withCancelButton:!de&&!!_,text:fe,onBackButtonClick:be,onEditButtonClick:function(){ue||m("".concat(o.Z6.categories.path,"/edit/").concat(ce),{state:{id:re}})},onDeleteButtonClick:function(){ie(!0)},onCancelButtonClick:function(){se?ge(xe):Te(),ue?m("".concat(o.Z6.categories.path,"/view/").concat(ce),{state:{id:re}}):m(o.Z6.categories.path)}}),(0,g.jsx)(v.Z,{flexGrow:1,children:"loading"===V?(0,g.jsx)(Z.Z,{type:"form"}):se||_&&re?(0,g.jsx)(E.RV,(0,c.Z)((0,c.Z)({},me),{},{children:(0,g.jsxs)(u.ZP,{container:!0,rowGap:5,children:[(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(O.Z,{InputProps:{readOnly:de},label:Y("COMMON.NAME"),name:r.Vq.name,rules:{required:{value:!0,message:Y(B.name.required.message)}}})}),(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,g.jsx)(y.Z,{color:q,sx:{marginY:1},children:Y("COMMON.TYPE")}),(0,g.jsx)(A.Z,{readonly:de,name:r.Vq.type,rules:{required:{value:!0,message:Y(B.type.required.message)}},options:(0,b.hf)(t,Y),labelColor:q,value:Ce,onRadioChange:ve})]}),(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,g.jsx)(y.Z,{color:q,sx:{marginY:1},children:Y("COMMON.ICON")}),(0,g.jsx)(E.Qr,{control:pe,name:r.Vq.icon,rules:{required:!0},render:function(e){var n=e.field,t=e.fieldState.error;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.ZP,(0,c.Z)((0,c.Z)({container:!0},n),{},{columnGap:1,rowGap:3,sx:{marginTop:2},children:s.map((function(e){var t=e.name;return(0,g.jsx)(u.ZP,{item:!0,children:(0,g.jsx)(k.Z,{selected:n.value,id:t,icon:t,size:50,readonly:de,onClick:Ee})},t)}))})),t&&(0,g.jsx)(T.Z,{error:!0,children:Y(B.icon[t.type].message)})]})}})]})]})})):(0,g.jsx)(j.Z,{text:Y("CATEGORIES.EMPTY_TEXT_RENDER_CONTENT")})}),!de&&(0,g.jsx)(u.ZP,{container:!0,display:"flex",justifyContent:"flex-end",rowGap:2,columnGap:2,sx:{marginTop:4},children:(0,g.jsx)(u.ZP,{item:!0,sm:"auto",xs:12,children:(0,g.jsx)(S.Z,{"aria-label":"Save category",fullWidth:!0,type:"submit",variant:"contained",loading:ae,onClick:he(ye),children:Y("COMMON.SAVE")})})}),(0,g.jsx)(w.Z,{type:"error",text:null!==R&&void 0!==R&&R.messageKey?Y(R.messageKey):(null===R||void 0===R?void 0:R.message)||"",open:U,onClose:function(){J(!1),Q(!1)}}),(0,g.jsx)(I.Z,{fullWidth:!0,maxWidth:"xs",title:Y("CATEGORIES.DELETE_DIALOG_TITLE"),actionButtonText:Y("COMMON.YES"),open:te,loading:oe,onClose:function(){ie(!1)},onAction:function(){C((0,x.uu)(re)),Q(!0)},children:(0,g.jsx)(y.Z,{variant:"subtitle1",children:Y("CATEGORIES.DELETE_DIALOG_CONFIRM")})})]})},V=function(){return(0,g.jsxs)(a.Z5,{children:[(0,g.jsx)(a.AW,{path:"/",element:(0,g.jsx)(C,{})}),(0,g.jsx)(a.AW,{path:"/new",element:(0,g.jsx)(P,{mode:r.df.create})}),(0,g.jsx)(a.AW,{path:"/view/:id",element:(0,g.jsx)(P,{mode:r.df.view})}),(0,g.jsx)(a.AW,{path:"/edit/:id",element:(0,g.jsx)(P,{mode:r.df.edit})}),(0,g.jsx)(a.AW,{path:"*",element:(0,g.jsx)(a.Fg,{to:o.Z6.categories.path,replace:!0})})]})}},2581:function(e,n,t){t(2791);var i=t(8870),a=t(3967),o=t(6581),r=t(184);n.Z=function(e){var n=e.id,t=e.selected,c=e.icon,l=e.size,s=void 0===l?64:l,u=e.disabled,d=e.readonly,f=e.onClick,x=(0,a.Z)().palette,m=x.primary,Z=m.main,h=m.contrastText,p=x.action;return(0,r.jsx)(i.Z,{display:"flex",flexDirection:"column",alignItems:"center",width:s+20,children:(0,r.jsx)(i.Z,{onClick:function(e){return function(){d||f&&f({id:e})}}(n),sx:{backgroundColor:u?p.disabled:t===n?Z:"transparent",border:u?"none":"1px solid ".concat(Z),color:t===n?h:Z,height:s,width:s,borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:u||d?"default":"pointer"},children:(0,r.jsx)(o.Z,{name:c})})})}},5814:function(e,n,t){t.d(n,{Z:function(){return m}});var i=t(1413),a=t(9439),o=t(5987),r=t(2791),c=t(3896),l=t(4102),s=t(225),u=t(5228),d=(0,s.Z)(u.Z)({"&.MuiTabs-root":{}}),f=t(184),x=["tabs","defaultValue","onChange"],m=function(e){var n=e.tabs,t=e.defaultValue,s=void 0===t?"0":t,u=e.onChange,m=(0,o.Z)(e,x),Z=(0,l.$G)().t,h=r.useState(s),p=(0,a.Z)(h,2),j=p[0],g=p[1];return(0,f.jsx)(d,(0,i.Z)((0,i.Z)({},m),{},{value:j,onChange:function(e,n){g(n),u(e,n)},children:n.map((function(e){var n=e.value,t=e.label;return(0,f.jsx)(c.Z,{value:n,label:Z(t)},n)}))}))}}}]);
//# sourceMappingURL=291.bf3eed02.chunk.js.map