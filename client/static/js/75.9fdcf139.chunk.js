"use strict";(self.webpackChunkbudget_management=self.webpackChunkbudget_management||[]).push([[75],{75:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(2791),a=n(7689),s=n(56),i=n(2385),l=n(9276),o=n(1889),c=n(3400),d=n(3394),x=n(8112),u=n(7931),m=n(4372),h=n(5900),f=n(6581),j=n(7195),p=n(5527),Z=n(890),C=n(3967),y=n(9403),g=n(184);const b=e=>{let{data:t,onClick:n}=e;const{palette:{primary:{main:r,contrastText:a}}}=(0,C.Z)(),{name:s,icon:i,balance:l}=t;return(0,g.jsx)(p.Z,{elevation:1,sx:{paddingX:2,backgroundColor:r},children:(0,g.jsxs)(o.ZP,{container:!0,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,columnSpacing:2,sx:{borderRadius:1,minHeight:40,cursor:"pointer"},onClick:()=>{n&&n(t)},children:[(0,g.jsx)(o.ZP,{item:!0,xs:1,display:"flex",children:i&&(0,g.jsx)(f.Z,{name:i,sx:{fontSize:{sm:22,xs:18},color:a}})}),(0,g.jsx)(o.ZP,{item:!0,xs:7,display:"flex",children:(0,g.jsx)(Z.Z,{noWrap:!0,color:a,sx:{fontSize:{sm:15,xs:13}},children:s})}),(0,g.jsx)(o.ZP,{item:!0,xs:4,display:"flex",justifyContent:"flex-end",children:(0,g.jsx)(y.Z,{balance:l,positiveColor:a,fontSize:{sm:15,xs:13}})})]})})};var v=n(1634),T=n(8870);const S=e=>{let{balance:t,...n}=e;const{palette:{info:{contrastText:r}}}=(0,C.Z)(),l=(0,a.s0)(),{t:o}=(0,d.$G)();return(0,g.jsxs)(T.Z,{sx:{...n.sx,display:"flex",flexDirection:"column",paddingBottom:3,borderBottom:e=>"1px solid ".concat(e.palette.secondary.main)},children:[(0,g.jsxs)(T.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:3},children:[(0,g.jsx)(Z.Z,{noWrap:!0,color:r,fontSize:18,sx:{marginRight:1},children:o("COMMON.BALANCE")}),(0,g.jsx)(y.Z,{balance:t,fontSize:18})]}),(0,g.jsxs)(T.Z,{sx:{display:"flex",flexDirection:{sm:"row",xs:"column"},alignItems:"center",justifyContent:"space-between",gap:3},children:[(0,g.jsx)(v.Z,{"aria-label":"New transfer",color:"secondary",variant:"contained",startIcon:(0,g.jsx)(f.Z,{name:i.Tu.currencyExchange}),sx:{width:{sm:"auto",xs:"100%"},fontSize:14},onClick:()=>{l("".concat(s.Z6.transfers.path,"/new"))},children:o("TRANSFERS.NEW_TRANSFER")}),(0,g.jsx)(v.Z,{"aria-label":"Transfer history",color:"secondary",startIcon:(0,g.jsx)(f.Z,{name:i.Tu.history}),sx:{width:{sm:"auto",xs:"100%"},fontSize:14},onClick:()=>{l("".concat(s.Z6.transfers.path))},children:o("TRANSFERS.TRANSFER_HISTORY")})]})]})},B=()=>{const e=(0,x.TL)(),{accounts:t,status:n}=(0,x.CG)(u.bk),{balance:p,balanceStatus:Z}=(0,x.CG)(u.Tc),C=(0,a.s0)(),{t:y}=(0,d.$G)(),v=e=>{let{id:t,name:n}=e;C("".concat(s.Z6.accounts.path,"/view/").concat(n),{state:{id:t}})};r.useEffect((()=>{"idle"===n&&e((0,u.T8)())}),[e,n]),r.useEffect((()=>{"idle"===Z&&e((0,u.sb)())}),[e,Z]);return(0,g.jsxs)(l.Z,{flexGrow:1,children:[(0,g.jsx)(S,{balance:p,sx:{marginTop:2,marginBottom:4}}),(0,g.jsx)(h.Z,{text:y("ACCOUNTS.PAGE_TITLE"),sx:{marginBottom:4}}),(0,g.jsxs)(o.ZP,{container:!0,rowGap:2,sx:{marginTop:4},children:["loading"===n?(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(m.Z,{type:"list"})}):"failed"!==n&&"succeeded"!==n||null!==t&&void 0!==t&&t.length?(0,g.jsx)(g.Fragment,{children:t.map((e=>{return(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(b,{data:(t=e,{...t,name:t.nameKey?y(t.nameKey):t.name}),onClick:v})},e.id);var t}))}):(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(j.Z,{text:y("ACCOUNTS.EMPTY_TEXT")})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,g.jsx)(c.Z,{"aria-label":"Add account",color:"primary",onClick:()=>{C("".concat(s.Z6.accounts.path,"/new"))},sx:{alignSelf:"flex-end"},children:(0,g.jsx)(f.Z,{name:i.Tu.plus,sx:{fontSize:40}})})})]})]})};var E=n(1134),w=n(5022),O=n(3013),P=n(7497),N=n(7034),A=n(2581),G=n(1890),k=n(9525),M=n(8556),I=n(9078);const R=e=>{let{mode:t}=e;const n=s.$V,l=s.Mf,c=s.SS,f=(0,a.s0)(),{state:p}=(0,a.TH)(),C=(0,x.TL)(),{getStatus:y,createEditStatus:b,deleteStatus:S}=(0,x.CG)(u.bk),B=(0,x.CG)(u.XD),R=(0,x.CG)(u.rY),{defaultCurrency:{iso:q}}=(0,x.CG)(u.vi),D=(0,O.C3)(),{t:_}=(0,d.$G)(),[W,z]=r.useState(!1),[L,K]=r.useState(!1),[F,U]=r.useState(!1),[V,Y]=r.useState(!1),$="loading"===b,H="loading"===S,X=null===p||void 0===p?void 0:p.id,Q=null!==R&&void 0!==R&&R.nameKey?_(R.nameKey):(null===R||void 0===R?void 0:R.name)||"",J=t===i.df.create,ee=t===i.df.edit,te=t===i.df.view,ne=(0,O.pz)(t,_,y,"ACCOUNTS","NEW_ACCOUNT","EMPTY_TITLE",R),re={balance:0,name:"",currencyIso:q},ae=(0,E.cI)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:re}),{setValue:se,handleSubmit:ie,reset:le}=ae,oe=e=>{let{id:t}=e;te||se(i.qt.icon,t,{shouldValidate:!0})},ce=e=>{const t={...e,balance:Number(e.balance)};C(ee?(0,u.zx)([X,t]):(0,u.o1)(t)),z(!0)},de=r.useCallback((()=>{R&&(se(i.qt.name,R.nameKey?_(R.nameKey):R.name),se(i.qt.icon,R.icon),se(i.qt.balance,(0,O.Co)(R.balance)),se(i.qt.currencyIso,R.currencyIso))}),[R,se,_]),xe=r.useCallback((()=>{C((0,u.cj)())}),[C]),ue=r.useCallback((()=>{f("".concat(s.Z6.accounts.path)),xe()}),[f,xe]);r.useEffect((()=>{"succeeded"===b&&W&&(ue(),U(!1)),"failed"===b&&W&&U(!0)}),[ue,b,W]),r.useEffect((()=>{"succeeded"===S&&L&&ue(),"failed"===S&&L&&(U(!0),Y(!1))}),[ue,S,L]),r.useEffect((()=>{X||C((0,u.P4)())}),[X,C]),r.useEffect((()=>{X&&"idle"===y&&(ee||te)&&!L&&C((0,u.D0)(X))}),[X,ee,te,y,C,L]),r.useEffect((()=>{de()}),[de]),r.useEffect((()=>()=>{xe()}),[xe]);return(0,g.jsxs)(T.Z,{component:"form",display:"flex",flexDirection:"column",flexGrow:1,onSubmit:ie(ce),children:[(0,g.jsx)(h.Z,{withBackButton:!0,withEditButton:te&&!!R,withDeleteButton:ee&&!!R,withCancelButton:!te&&!!R,text:ne,onBackButtonClick:ue,onEditButtonClick:()=>{ee||f("".concat(s.Z6.accounts.path,"/edit/").concat(Q),{state:{id:X}})},onDeleteButtonClick:()=>{Y(!0)},onCancelButtonClick:()=>{J?le(re):de(),ee?f("".concat(s.Z6.accounts.path,"/view/").concat(Q),{state:{id:X}}):f(s.Z6.accounts.path)}}),(0,g.jsx)(T.Z,{flexGrow:1,children:"loading"===y?(0,g.jsx)(m.Z,{type:"form"}):J||R&&X||"failed"!==y?(0,g.jsx)(E.RV,{...ae,children:(0,g.jsxs)(o.ZP,{container:!0,rowGap:7,children:[(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(P.Z,{InputProps:{readOnly:te},label:_("COMMON.NAME"),name:i.qt.name,rules:{required:{value:!0,message:_(D.name.required.message)}}})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(P.Z,{InputProps:{readOnly:te},label:_("COMMON.BALANCE"),type:"number",name:i.qt.balance,rules:{required:{value:!0,message:_(D.balance.required.message)},pattern:{value:n,message:_(D.balance.pattern.message)}}})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(G.Z,{inputProps:{readOnly:te},label:_("COMMON.CURRENCY"),name:i.qt.currencyIso,rules:{required:{value:!0,message:_(D.currencyIso.required.message)}},children:l.map((e=>{let{iso:t,name:n,nameKey:r,symbol:a}=e;return(0,g.jsx)(w.Z,{value:t,children:(0,g.jsx)(I.Z,{currency:{iso:t,symbol:a,name:n,nameKey:r}})},t)}))})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,children:(0,g.jsx)(M.Z,{name:i.qt.icon,label:_("COMMON.ICON"),rules:{required:{value:!0,message:_(D.icon.required.message)}},render:e=>{let{field:t}=e;return(0,g.jsx)(o.ZP,{container:!0,...t,columnGap:1,rowGap:3,sx:{marginTop:2},children:c.map((e=>{let{name:n}=e;return(0,g.jsx)(o.ZP,{item:!0,children:(0,g.jsx)(A.Z,{selected:t.value,id:n,icon:n,size:50,readonly:te,onClick:oe})},n)}))})}})})]})}):(0,g.jsx)(j.Z,{text:_("ACCOUNTS.EMPTY_TEXT_RENDER_CONTENT")})}),!te&&(0,g.jsx)(o.ZP,{container:!0,display:"flex",justifyContent:"flex-end",rowGap:2,columnGap:2,sx:{marginTop:4,marginBottom:4},children:(0,g.jsx)(o.ZP,{item:!0,sm:"auto",xs:12,children:(0,g.jsx)(v.Z,{"aria-label":"Save account",fullWidth:!0,type:"submit",variant:"contained",loading:$,onClick:ie(ce),children:_("COMMON.SAVE")})})}),(0,g.jsx)(N.Z,{type:"error",open:F,text:null!==B&&void 0!==B&&B.messageKey?_(B.messageKey):(null===B||void 0===B?void 0:B.message)||"",onClose:()=>{U(!1),K(!1)}}),(0,g.jsx)(k.Z,{fullWidth:!0,maxWidth:"xs",title:_("ACCOUNTS.DELETE_DIALOG_TITLE"),actionButtonText:_("COMMON.YES"),open:V,loading:H,onClose:()=>{Y(!1)},onAction:()=>{C((0,u.tm)(X)),K(!0)},children:(0,g.jsx)(Z.Z,{variant:"subtitle1",children:_("ACCOUNTS.DELETE_DIALOG_CONFIRM")})})]})},q=()=>(0,g.jsxs)(a.Z5,{children:[(0,g.jsx)(a.AW,{path:"/",element:(0,g.jsx)(B,{})}),(0,g.jsx)(a.AW,{path:"/new",element:(0,g.jsx)(R,{mode:i.df.create})}),(0,g.jsx)(a.AW,{path:"/view/:id",element:(0,g.jsx)(R,{mode:i.df.view})}),(0,g.jsx)(a.AW,{path:"/edit/:id",element:(0,g.jsx)(R,{mode:i.df.edit})}),(0,g.jsx)(a.AW,{path:"*",element:(0,g.jsx)(a.Fg,{to:s.Z6.accounts.path,replace:!0})})]})},7195:(e,t,n)=>{n.d(t,{Z:()=>o});n(2791);var r=n(8870),a=n(3967),s=n(890),i=n(3394),l=n(184);const o=e=>{let{text:t,...n}=e;const{palette:{info:{contrastText:o}}}=(0,a.Z)(),{t:c}=(0,i.$G)(),d=t||c("COMMON.NO_DATA");return(0,l.jsx)(r.Z,{display:"flex",justifyContent:"center",...n,sx:{width:"100%",...n.sx},children:(0,l.jsx)(s.Z,{noWrap:!0,color:o,fontSize:{sm:18,xs:16},children:d})})}},8556:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var r=n(1134),a=n(7071),s=n(4925),i=n(184);const l=e=>{let{name:t,label:n,rules:l={},render:o}=e;const{control:c,formState:{errors:d}}=(0,r.Gc)();return(0,i.jsx)(r.Qr,{control:c,name:t,rules:l,render:e=>{var r;let{field:l,fieldState:c}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{sx:{marginBottom:2},children:n}),o({field:l,fieldState:c}),d[t]&&(0,i.jsx)(a.Z,{error:!0,children:null===(r=c.error)||void 0===r?void 0:r.message})]})}})}},7497:(e,t,n)=>{n.d(t,{Z:()=>m});n(2791);var r,a=n(1134),s=n(7071),i=n(8870),l=n(3967),o=n(168),c=n(225),d=n(3006);const x=(0,c.Z)(d.Z)(r||(r=(0,o.Z)(["\n  &.MuiInputBase-input {\n    border-color: ",";\n    color: ",";\n  },\n  &.MuiOutlinedInput-root {\n    &.Mui-error {\n      & .MuiOutlinedInput-notchedOutline: {\n        border-color: ",",\n      }\n    }\n    border-color: ",";\n    color: ",";\n  }\n"])),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.error.main),(e=>e.theme.palette.primary.main),(e=>e.theme.palette.error.main));var u=n(184);const m=e=>{let{name:t,rules:n={},...r}=e;const o=(0,l.Z)(),{control:c,formState:{errors:d}}=(0,a.Gc)();return(0,u.jsx)(a.Qr,{control:c,name:t,rules:n,render:e=>{let{field:n,fieldState:{error:a}}=e;return(0,u.jsxs)(i.Z,{position:"relative",children:[(0,u.jsx)(x,{fullWidth:!0,...n,...r,theme:o,error:!!d[t]}),d[t]&&(0,u.jsx)(s.Z,{sx:{position:"absolute"},error:!0,children:null===a||void 0===a?void 0:a.message})]})}})}},1890:(e,t,n)=>{n.d(t,{Z:()=>c});n(2791);var r=n(1134),a=n(7198),s=n(7071),i=n(8870),l=n(4925),o=n(184);const c=e=>{let{name:t,label:n,rules:c={},children:d,...x}=e;const{control:u,formState:{errors:m}}=(0,r.Gc)();return(0,o.jsx)(r.Qr,{control:u,name:t,rules:c,render:e=>{let{field:r,fieldState:{error:c}}=e;return(0,o.jsxs)(i.Z,{position:"relative",children:[(0,o.jsx)(l.Z,{children:n}),(0,o.jsx)(a.Z,{fullWidth:!0,variant:"outlined",error:!!m[t],...r,...x,children:d}),m[t]&&(0,o.jsx)(s.Z,{sx:{position:"absolute"},error:!0,children:null===c||void 0===c?void 0:c.message})]})}})}},2581:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var r=n(8870),a=n(3967),s=n(6581),i=n(184);const l=e=>{let{id:t,selected:n,icon:l,size:o=64,disabled:c,readonly:d,onClick:x}=e;const{palette:{primary:{main:u,contrastText:m},action:h}}=(0,a.Z)();return(0,i.jsx)(r.Z,{display:"flex",flexDirection:"column",alignItems:"center",width:o+20,children:(0,i.jsx)(r.Z,{onClick:(e=>()=>{d||x&&x({id:e})})(t),sx:{backgroundColor:c?h.disabled:n===t?u:"transparent",border:c?"none":"1px solid ".concat(u),color:n===t?m:u,height:o,width:o,borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:c||d?"default":"pointer"},children:(0,i.jsx)(s.Z,{name:l})})})}},4372:(e,t,n)=>{n.d(t,{Z:()=>i});n(2791);var r=n(7047),a=n(1889),s=n(184);const i=e=>{let{type:t,...n}=e;const i="form"===t,l=()=>{switch(t){case"list":default:return{firstBar:40,secondBar:40,thirdBar:40};case"form":return{firstBar:56,secondBar:56,thirdBar:56};case"summary":return{firstBar:30,secondBar:60,thirdBar:120};case"circular":return{firstBar:64,secondBar:64,thirdBar:64}}};return"circular"===t?(0,s.jsxs)(a.ZP,{container:!0,columnGap:4,rowGap:4,children:[(0,s.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,s.jsx)(r.Z,{...n,variant:"circular",height:l().firstBar,width:l().firstBar})}),(0,s.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,s.jsx)(r.Z,{...n,variant:"circular",height:l().secondBar,width:l().secondBar})}),(0,s.jsx)(a.ZP,{item:!0,width:100,display:"flex",justifyContent:"center",children:(0,s.jsx)(r.Z,{...n,variant:"circular",height:l().thirdBar,width:l().firstBar})})]}):(0,s.jsxs)(a.ZP,{container:!0,justifyContent:"center",rowGap:i?5:2,children:[(0,s.jsx)(a.ZP,{item:!0,xs:12,children:(0,s.jsx)(r.Z,{...n,variant:"rounded",height:l().firstBar})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,children:(0,s.jsx)(r.Z,{...n,variant:"rounded",animation:"wave",height:l().secondBar})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,children:(0,s.jsx)(r.Z,{...n,variant:"rounded",height:l().thirdBar})})]})}},7034:(e,t,n)=>{n.d(t,{Z:()=>i});n(2791);var r=n(9658),a=n(3543),s=n(184);const i=e=>{let{open:t=!1,text:n,type:i,onClose:l,...o}=e;return(0,s.jsx)(a.Z,{open:t,autoHideDuration:5e3,onClose:()=>{l()},...o,children:(0,s.jsx)(r.Z,{severity:i,children:n})})}}}]);
//# sourceMappingURL=75.9fdcf139.chunk.js.map